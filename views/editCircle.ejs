<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <link rel="stylesheet" href="/cropperjs/cropper.min.css">
    <script defer src="/cropperjs/cropper.min.js"></script>
    

<link rel="stylesheet" href="/fontawesome/css/all.min.css">



<link href="/output.css" rel="stylesheet">
    <title>ã‚µãƒ¼ã‚¯ãƒ«ç·¨é›†ãƒšãƒ¼ã‚¸ï½œã‚µãƒ¼ã‚¯ãƒ«ãƒ‘ãƒ¼ã‚¯</title>


    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q114JWPDXL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Q114JWPDXL');
</script>
</head>
<body class="font-sans">

    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="text-black pt-3 pb-2 px-4 flex justify-between items-center sticky top-0 z-50"
    style="background: linear-gradient(to bottom, rgb(255, 210, 121), rgb(255, 222, 138));">
    <div class="z-50">
        <button onclick="history.back()" class=" text-gray-800 font-bold py-2 px-1 flex items-center">
            <i class="fa-solid fa-arrow-left mr-2"></i> æˆ»ã‚‹
        </button>
    </div>
    <h1 class="text-lg font-bold p-2">ã‚µãƒ¼ã‚¯ãƒ«ã‚’ç·¨é›†ã™ã‚‹ï½œã‚µãƒ¼ã‚¯ãƒ«ãƒ‘ãƒ¼ã‚¯</h1>
    <div class="flex items-center gap-3">
        <!-- ãƒ›ãƒ¼ãƒ ã‚¢ã‚¤ã‚³ãƒ³ -->
        <a href="/" class="text-black hover:text-gray-600">
            <i class="fa-solid fa-house text-lg"></i>
        </a>
    </div>
   
</header>
   <!-- ãƒ•ã‚©ãƒ¼ãƒ  -->
   <form id="circle-form" enctype="multipart/form-data" class="bg-white max-w-lg mx-auto rounded-lg shadow-md">
    
 
    <!-- ãƒˆãƒƒãƒ—ç”»åƒ -->
    <div class="p-6 border-t border-gray-300">
        <div class="mb-6 flex justify-center relative flex-col">
            <label for="topPhoto" class="block text-gray-700 font-bold my-4">ãƒˆãƒƒãƒ—ç”»åƒã€€<span class="text-red-600">ï¼Šå¤‰æ›´ã™ã‚‹å ´åˆã®ã¿å…¨ã¦ç™»éŒ²ï¼ˆå¤‰æ›´ã—ãªã„å ´åˆã¯ãã®ã¾ã¾ï¼‰</span></label>
            <div class="w-full max-w-[450px] bg-gray-100 rounded-2xl border border-[#ddc4ff] shadow-lg  relative cursor-pointer" id="topPhotoUpload" style="padding-top: 100%;">
                <span class="absolute inset-0 flex items-center justify-center text-4xl text-gray-400">+</span>
                <img id="topPhotoPreview" src="#" alt="ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒ" class="absolute inset-0 w-full h-full object-cover hidden rounded-2xl">
                <button id="removeTopPhoto" class="absolute top-2 right-2 bg-red-500 text-white text-xs rounded-full px-2 py-1 hidden">Ã—</button>
            </div>
            <input type="file" id="topPhoto" name="topPhoto" accept="image/*" class="hidden">
        </div>

        <!-- ã‚µãƒ–ç”»åƒ -->
        <div class="mb-12">
            <label for="subPhotos" class="block text-gray-700 font-bold my-5">ã‚µãƒ–ç”»åƒï¼ˆæœ€å¤§5æšï¼‰<span class="text-red-600">ï¼Šå¤‰æ›´ã™ã‚‹å ´åˆã®ã¿å…¨ã¦ç™»éŒ²ï¼ˆå¤‰æ›´ã—ãªã„å ´åˆã¯ãã®ã¾ã¾ï¼‰</span></label>
            <div id="subPhotoUpload" class="flex gap-2 flex-wrap">
                <div id="addSubPhotoButton" class="w-20 h-20 bg-gray-100 rounded-lg border border-[#ddc4ff] shadow-lg  flex items-center justify-center cursor-pointer">
                    <span class="text-2xl text-gray-400">+</span>
                    <input type="file" id="subPhotos" accept="image/*" class="hidden">
                </div>
            </div>
            <div id="subPhotoPreviewContainer" class="flex gap-2 flex-wrap mt-4">
                <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒãŒã“ã“ã«è¿½åŠ ã•ã‚Œã‚‹ -->
            </div>
        </div>
    </div>
    </div>
<!-- ãƒˆãƒªãƒŸãƒ³ã‚°ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="cropModal" class="hidden fixed inset-0 bg-gray-800 bg-opacity-75 flex flex-col items-center justify-center z-50">
    <div class="bg-white w-full max-w-[450px] h-screen rounded-2xl shadow-lg flex flex-col">
        <!-- ç”»åƒã‚¨ãƒªã‚¢ï¼ˆä¸Šéƒ¨ã®ç„¡é§„ãªã‚¹ãƒšãƒ¼ã‚¹ã‚’å‰Šé™¤ï¼‰ -->
        <div class="relative w-full flex-1 max-h-[85vh] flex justify-center items-center">
            <img id="cropImage" class="w-full h-auto max-h-full object-contain">
        </div>
        <!-- ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ï¼ˆç”»é¢ã®ä¸‹éƒ¨ã«å›ºå®šï¼‰ -->
        <div class="absolute inset-x-0 bottom-0 bg-white py-3 shadow-lg flex justify-center space-x-4">
            <button id="cropCancel" class="px-5 py-2 bg-gray-500 text-white rounded-lg">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
            <button id="cropSave" class="px-5 py-2 bg-blue-500 text-white rounded-lg">ä¿å­˜</button>
        </div>
    </div>
</div>





<div class="p-6 border-t border-gray-300">
        <!-- ã‚µãƒ¼ã‚¯ãƒ«å -->
        <div class="form-group my-5">
            <label for="circleName" class="block text-gray-700 font-bold mb-4">ã‚µãƒ¼ã‚¯ãƒ«åã€€<span class="text-red-500 opacity-80">ï¼Šå¿…é ˆ</span></label>
            <input type="text" id="circleName" name="circleName" placeholder="ä¾‹: Green" required value="<%= circle.circleName %>"
                   class="w-full border border-[#eba789] rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-orange-300">
        </div>


         

       <!-- ãƒ¡ã‚¤ãƒ³ã‚¸ãƒ£ãƒ³ãƒ« -->
       <div class="my-7">
        <label for="mainGenre" class="block text-gray-700 font-bold mb-4">ã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠã€€<span class="text-red-500 opacity-80">ï¼Šå†ç™»éŒ²å¿…é ˆ</span></label>
        <select id="mainGenre" name="mainGenre"            required         class="w-full border border-[#eba789] rounded-lg h-12 focus:outline-none focus:ring-2 focus:ring-orange-300">


            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
            <option value="ã‚¹ãƒãƒ¼ãƒ„">ã‚¹ãƒãƒ¼ãƒ„</option>
            <option value="ãƒ†ãƒ‹ã‚¹">ãƒ†ãƒ‹ã‚¹</option>
            <option value="ãƒ€ãƒ³ã‚¹">ãƒ€ãƒ³ã‚¹</option>
            <option value="è»½éŸ³">è»½éŸ³</option>
            <option value="æ–‡åŒ–ç³»">æ–‡åŒ–ç³»</option>
            <option value="ã‚¤ãƒ™ãƒ³ãƒˆ">ã‚¤ãƒ™ãƒ³ãƒˆ</option>
            <option value="ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢">ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢</option>
            <option value="å›½éš›äº¤æµ">å›½éš›äº¤æµ</option>
            <option value="éƒ¨æ´»">éƒ¨æ´»</option>
        </select>
    </div>

    <!-- ã‚µãƒ–ã‚¸ãƒ£ãƒ³ãƒ« -->
    <div class="my-7">
        <label for="subGenre" class="block text-gray-700 font-bold mb-4">ã‚µãƒ–ã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠã€€<span class="text-red-500 opacity-80">ï¼Šå†ç™»éŒ²å¿…é ˆ</span></label>
        <select id="subGenre" name="subGenre"      required              class="w-full border border-[#eba789] rounded-lg h-12 focus:outline-none focus:ring-2 focus:ring-orange-300">

            <option value="">ãƒ¡ã‚¤ãƒ³ã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„</option>
        </select>
    </div>

    <script>
   document.addEventListener("DOMContentLoaded", function () {
    const mainGenre = document.getElementById("mainGenre");
    const subGenre = document.getElementById("subGenre");

    // åˆæœŸçŠ¶æ…‹ã§ã‚µãƒ–ã‚¸ãƒ£ãƒ³ãƒ«ã‚’ç„¡åŠ¹åŒ–
    subGenre.disabled = true;

    const subOptions = {
        "ã‚¹ãƒãƒ¼ãƒ„": ["ã‚¹ãƒãƒ¼ãƒ„", "ã‚¤ãƒ™ãƒ³ãƒˆ", "ã‚µãƒƒã‚«ãƒ¼ãƒ»ãƒ•ãƒƒãƒˆã‚µãƒ«", "ãƒ†ãƒ‹ã‚¹", "ãƒã‚¹ã‚±ãƒƒãƒˆãƒœãƒ¼ãƒ«", "ãƒãƒ¬ãƒ¼ãƒœãƒ¼ãƒ«", "ãƒãƒ‰ãƒŸãƒ³ãƒˆãƒ³", "ã‚¹ã‚­ãƒ¼ãƒ»ã‚¹ãƒãƒœãƒ¼", "ãƒãƒ³ãƒ‰ãƒœãƒ¼ãƒ«", "ãƒ©ã‚°ãƒ“ãƒ¼", "é™¸ä¸Š", "é‡çƒ", "ç©ºæ‰‹", "æŸ”é“", "å¼“é“", "è‡ªè»¢è»Š", "ãŠå‡ºã‹ã‘ãƒ»æ—…è¡Œ", "ãã®ä»–", "é¸æŠã—ãªã„"],
        "ãƒ†ãƒ‹ã‚¹": ["ã‚¤ãƒ™ãƒ³ãƒˆ", "ã‚¹ãƒãƒ¼ãƒ„"],
        "ãƒ€ãƒ³ã‚¹": ["ã‚¤ãƒ™ãƒ³ãƒˆ", "ã‚ˆã•ã“ã„", "ãã®ä»–", "é¸æŠã—ãªã„"],  // ä½™åˆ†ãªã‚¹ãƒšãƒ¼ã‚¹å‰Šé™¤
        "è»½éŸ³": ["ã‚¤ãƒ™ãƒ³ãƒˆ", "é¸æŠã—ãªã„"],
        "æ–‡åŒ–ç³»": ["å§”å“¡ä¼šãƒ»ç ”ç©¶ä¼š", "åºƒå‘Š", "æ–™ç†", "ã‚¢ã‚«ãƒšãƒ©ãƒ»åˆå”±", "ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢", "ITãƒ»eã‚¹ãƒãƒ¼ãƒ„", "ãã®ä»–", "é¸æŠã—ãªã„"],
        "ã‚¤ãƒ™ãƒ³ãƒˆ": ["ãŠå‡ºã‹ã‘ãƒ»æ—…è¡Œ", "ã‚¹ãƒãƒ¼ãƒ„", "ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢", "å›½éš›äº¤æµ", "ãã®ä»–", "é¸æŠã—ãªã„"],
        "ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢": ["ãŠå‡ºã‹ã‘ãƒ»æ—…è¡Œ", "å›½éš›äº¤æµ", "ã‚¤ãƒ™ãƒ³ãƒˆ", "ãã®ä»–", "é¸æŠã—ãªã„"],
        "å›½éš›äº¤æµ": ["ãŠå‡ºã‹ã‘ãƒ»æ—…è¡Œ", "ã‚¤ãƒ™ãƒ³ãƒˆ", "ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢", "ãã®ä»–", "é¸æŠã—ãªã„"],
        "éƒ¨æ´»": ["ã‚¢ãƒ¡ãƒ•ãƒˆéƒ¨", "ãƒ©ã‚°ãƒ“ãƒ¼éƒ¨", "ã‚µãƒƒã‚«ãƒ¼éƒ¨", "ãƒã‚¹ã‚±éƒ¨", "ãƒãƒ¬ãƒ¼ãƒœãƒ¼ãƒ«éƒ¨", "ãƒãƒ³ãƒ‰ãƒœãƒ¼ãƒ«éƒ¨", "é‡çƒéƒ¨", "ã‚½ãƒ•ãƒˆãƒœãƒ¼ãƒ«éƒ¨", "ãƒ†ãƒ‹ã‚¹éƒ¨", "ãƒãƒ‰ãƒŸãƒ³ãƒˆãƒ³éƒ¨", "é™¸ä¸Šéƒ¨", "ãƒ•ãƒƒãƒˆã‚µãƒ«éƒ¨", "ãƒ€ãƒ³ã‚¹éƒ¨", "ã‚ˆã•ã“ã„éƒ¨", "ã‚¹ã‚­ãƒ¼éƒ¨", "è»½éŸ³ãƒ»ãƒãƒ³ãƒ‰éƒ¨", "ã‚¢ã‚«ãƒšãƒ©ãƒ»åˆå”±éƒ¨", "å†™çœŸéƒ¨", "ãã®ä»–", "é¸æŠã—ãªã„"]
    };

    mainGenre.addEventListener("change", function () {
        const selectedGenre = mainGenre.value;
        subGenre.innerHTML = "<option value=''>ã‚µãƒ–ã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠ</option>";

        if (selectedGenre && subOptions[selectedGenre]) {
            subOptions[selectedGenre].forEach(sub => {
                const option = document.createElement("option");
                option.value = sub;
                option.textContent = sub;
                subGenre.appendChild(option);
            });
            subGenre.disabled = false;
        } else {
            subGenre.disabled = true;
            subGenre.value = ""; // ç„¡åŠ¹åŒ–æ™‚ã«å€¤ã‚’ãƒªã‚»ãƒƒãƒˆ
        }
    });
});

    </script>
        <!-- ãã®ä»– -->
        <div class="my-4">
            <label for="other" class="block text-gray-700 font-bold mb-4">ãã®ä»–</label>
            <input type="text" id="other" name="other" placeholder="ä¾‹: ãƒ©ã‚¯ãƒ­ã‚¹"  value="<%= circle.other || '' %>"
            class="w-full border border-[#eba789] rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-orange-300" maxlength="20">
        </div>

</div>
<div class="p-6 mb-6 border-t border-gray-300">
        <!-- ã‚µãƒ¼ã‚¯ãƒ«é¸æŠã‚°ãƒ©ãƒ• -->
        <h2 class="text-lg font-bold my-10">ã‚µãƒ¼ã‚¯ãƒ«é¸æŠã‚°ãƒ©ãƒ•</h2>
        <ul class="ks-cboxtags">
        <div class="space-y-7">
            <!-- ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼: äººæ•° -->
            <div>
                <div class="flex items-center justify-between">
                    <label for="slider1" class="block text-lg text-gray-700 font-bold mb-4">äººæ•°</label>
                    
                    <!-- ğŸ”¹ ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ -->
                    <div class="flex items-center">
                       <li>
                        <input type="checkbox" id="toggle1" name="tag" value="null1" class="hidden peer" onchange="toggleSlider('toggle1', 'slider1', 'slider1Value', '150äºº')" <%= circle.tag.includes("null1") ? "checked" : "" %>>
                        <label for="toggle1"class="shadow-md">
                            æœªé¸æŠ
                        </label>
                    </li>
                    </div>
                </div>
                <div class="flex justify-between items-baseline text-sm text-gray-500 my-3">
                    <span>1äºº</span> 
                     <span id="slider1Value"class="text-lg text-[#eba789] font-bold"><%= circle.parsedSlider1 || 150 %>äºº</span>
                    <span>300äººä»¥ä¸Š</span>
                </div>
                <input type="range" id="slider1" class="w-full slider" min="0" max="300" step="10" value="<%= circle.parsedSlider1 || 150 %>">
                <div class="text-center text-[#eba789] font-bold mt-2">
                  
                </div>
               
            </div>
        
            <!-- ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼: ç”·å¥³æ¯” -->
            <div>
                <div class="flex items-center justify-between">
                    <label for="slider2" class="block text-gray-700 text-lg font-bold mb-4">ç”·å¥³æ¯”</label>
                    <div class="flex items-center">
                        <li>
                            <input type="checkbox" id="toggle2" name="tag" value="null2" class="hidden peer" onchange="toggleSlider('toggle2', 'slider2', 'slider2Value', '5:5')" <%= circle.tag.includes("null2") ? "checked" : "" %>>
                            <label for="toggle2"class="shadow-md">
                                æœªé¸æŠ
                            </label>
                        </li>
                    </div>
                </div>
                <div class="flex justify-between items-baseline text-sm text-gray-500 my-3">
                    <span>ç”·</span>
                    <span id="slider2Value"class="text-lg text-[#eba789] font-bold"><%= circle.parsedSlider2 || 5 %>:<%= 10 - (circle.parsedSlider2 || 5) %></span>
                    <span>å¥³</span>
                </div>
                <input type="range" id="slider2" class="w-full slider" min="0" max="10" value="<%= circle.parsedSlider2 || 5 %>">
                <div class="text-center text-[#eba789] font-bold mt-2">
                </div>
            </div>
        
            <!-- ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼: æ´»å‹•é »åº¦ -->
            <div>
                <div class="flex items-center justify-between">
                    <label for="slider3" class="block text-gray-700 text-lg font-bold mb-4">æ´»å‹•é »åº¦</label>
                    <div class="flex items-center">
                        <li>
                            <input type="checkbox" id="toggle3" name="tag" value="null3" class="hidden peer" onchange="toggleSlider('toggle3', 'slider3', 'slider3Value', 'ï¼’ã‹æœˆã«ä¸€å›')" <%= circle.tag.includes("null3") ? "checked" : "" %>>
                            <label for="toggle3"class="shadow-md">
                                æœªé¸æŠ
                            </label>
                        </li>
                    </div>
                </div>
                <div class="flex justify-between items-baseline text-sm text-gray-500 my-3">
                    <span>å¹´æ•°å›</span>
                    <span id="slider3Value"class="text-lg text-[#eba789] font-bold"><%= circle.parsedSlider3 || 50 %>%</span>
                    <span>ã»ã¼æ¯æ—¥</span>
                </div>
                <input type="range" id="slider3" class="w-full slider" min="0" max="100"  value="<%= circle.parsedSlider3 || 50 %>" >
                <div class="text-center text-[#eba789] font-bold mt-2">
                </div>
            </div>
        
          <!-- ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼: é›°å›²æ°— -->
        <div>
            <div class="flex items-center justify-between">
                <label for="slider4" class="block text-gray-700 text-lg font-bold mb-4">æ´»å‹•é »åº¦</label>
                <div class="flex items-center">
                    <li>
                        <input type="checkbox" id="toggle4" name="tag" value="null4" class="hidden peer" onchange="toggleSlider('toggle4', 'slider4', 'slider4Value', '50%')">
                        <label for="toggle4"class="shadow-md">
                            æœªé¸æŠ
                        </label>
                    </li>
                </div>
            </div>
            <div class="flex justify-between items-baseline text-sm text-gray-500 my-3">
                <span>çœŸé¢ç›®</span>
                <span id="slider4Value" class="text-lg text-[#eba789] font-bold"><%= circle.parsedSlider4 || 50 %>%</span>
                <span>å…¨åŠ›ã‚¨ãƒ³ã‚¸ãƒ§ã‚¤</span>
            </div>
            <input type="range" id="slider4" class="w-full slider" min="0" max="100" value="<%= circle.parsedSlider4 || 50 %>" <%= circle.tag.includes("null4") ? "checked" : "" %>>
        </div>
</div>
</ul>
</div>
        <style>
         /* å…±é€šã®ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼è¨­å®š */
.slider {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 8px;
    border-radius: 4px;
    outline: none;

}



.slider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    background: #eba789;
    border-radius: 50%;
    cursor: pointer;
}

/* åˆæœŸçŠ¶æ…‹ã§å·¦å´ã«è‰²ã‚’ä»˜ã‘ã‚‹ */
.slider {
    background: linear-gradient(to right, #eba789 0%, #ffc062 0%, #fec86b 0%);
}

            </style>
            


        <script>

document.addEventListener("DOMContentLoaded", function () {
    const sliders = document.querySelectorAll(".slider");

    sliders.forEach(slider => {
        function updateSliderBackground() {
            let value = slider.value;
            let min = slider.min;
            let max = slider.max;
            let percentage = ((value - min) / (max - min)) * 100; // 0% - 100%

            slider.style.background = `linear-gradient(to right, #fec86b ${percentage}%, #eba789 ${percentage}%, #fff ${percentage}%)`;
        }

        // åˆæœŸå€¤è¨­å®š
        updateSliderBackground();

        // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å€¤ãŒå¤‰æ›´ã•ã‚ŒãŸã‚‰èƒŒæ™¯ã‚’æ›´æ–°
        slider.addEventListener("input", updateSliderBackground);
    });
});




           function toggleSlider(toggleId, sliderId, valueId, defaultValue) {
    const toggle = document.getElementById(toggleId);
    const slider = document.getElementById(sliderId);
    const valueDisplay = document.getElementById(valueId);
  

    if (toggle.checked) {
        slider.disabled = true;  
        valueDisplay.textContent = "é¸æŠãªã—";
       

    } else {
        slider.disabled = false;
        slider.value = slider.dataset.default; // åˆæœŸå€¤ã‚’é©ç”¨
        valueDisplay.textContent = defaultValue;

    }
    }


    
    // äººæ•°ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼
    const slider1 = document.getElementById('slider1');
const slider1Value = document.getElementById('slider1Value');

slider1.addEventListener('input', () => {
    if (slider1.value == 300) {
        slider1Value.textContent = "300äººä»¥ä¸Š";
    } else {
        slider1Value.textContent = slider1.value + "äºº";
    }
});

    // æ´»å‹•é »åº¦ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼
    const activityFrequency = ['ä¸å®šæœŸ', 'å¹´ä¸€å›', 'åŠå¹´ã«ä¸€å›', 'ï¼“ã‹æœˆã«ä¸€å›', 'ï¼’ã‹æœˆã«ä¸€å›', 'æœˆä¸€', 'æœˆï¼’', 'é€±ä¸€', 'ã»ã¼æ¯æ—¥'];
    const slider3 = document.getElementById('slider3');
    const slider3Value = document.getElementById('slider3Value');
    slider3.addEventListener('input', () => {
        const index = Math.round(slider3.value / 12.5);
        slider3Value.textContent = activityFrequency[index];
    });

    // ç”·å¥³æ¯”ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼
    const slider2 = document.getElementById('slider2');
    const slider2Value = document.getElementById('slider2Value');
    slider2.addEventListener('input', () => {
        const index = Math.round(slider2.value);
        const femaleRatio = 10 - index;
        const maleRatio = index;
        slider2Value.textContent = `${maleRatio}:${femaleRatio}`;
    });


    document.addEventListener("DOMContentLoaded", function () {
        const slider4 = document.getElementById("slider4");
        const slider4Value = document.getElementById("slider4Value");

        slider4.addEventListener("input", () => {
            slider4Value.textContent = slider4.value + "%";
        });
    });

    // åˆæœŸå€¤è¨­å®š
    slider3.dispatchEvent(new Event('input'));
     </script>





       <!-- ãƒ•ã‚©ãƒ¼ãƒ  -->
       <div class="p-6 mb-6 border-t border-gray-300">

        <h2 class="text-lg font-bold my-10">ã‚¿ã‚°é¸æŠ</h2>
        <div>

            
            <h3 class="text-lg font-bold my-8">å…¬èªãƒ»ç™»éŒ²å›£ä½“ã®å ´åˆã¯ãƒã‚§ãƒƒã‚¯</h3>
            <ul class="ks-cboxtags flex flex-wrap gap-4">
              
             <li>
                <div>  
                    <input type="checkbox" id="officialCircle" name="tag" value="å…¬èª" class="hidden peer"<%= circle.tag.includes("å…¬èª") ? "checked" : "" %>>
                    <label for="officialCircle"class="shadow-md">
                        å…¬èª
                    </label>
                </div>
            </li>
                </li>
             <li>
<div>
                    <input type="checkbox" id="certifiedCircle" name="tag" value="ç™»éŒ²å›£ä½“" class="hidden peer" <%= circle.tag.includes("ç™»éŒ²å›£ä½“") ? "checked" : "" %>>
                    <label for="certifiedCircle"class="shadow-md">
                        ç™»éŒ²å›£ä½“
                    </label>
                </div>
</li>
                <h3 class="text-lg font-bold my-7 mt-4">ã‚µãƒ¼ã‚¯ãƒ«ã®é›°å›²æ°—ãƒ»è¦æ¨¡</h3><span></span>
             <li>
<div>
                    <input type="checkbox" id="smallFriendly" name="tag" value="å°‘äººæ•°ã§ä»²è‰¯ã—" class="hidden peer" <%= circle.tag.includes("å°‘äººæ•°ã§ä»²è‰¯ã—") ? "checked" : "" %>>
                    <label for="smallFriendly"class="shadow-md 
                   ">
                        å°‘äººæ•°ã§ä»²è‰¯ã—
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="largeFun" name="tag" value="å¤§äººæ•°ã§ã‚ã„ã‚ã„" class="hidden peer" <%= circle.tag.includes("å¤§äººæ•°ã§ã‚ã„ã‚ã„") ? "checked" : "" %>>
                    <label for="largeFun"class="shadow-md 
                   ">
                        å¤§äººæ•°ã§ã‚ã„ã‚ã„
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="hasCamps" name="tag" value="åˆå®¿ã‚ã‚Š" class="hidden peer" <%= circle.tag.includes("åˆå®¿ã‚ã‚Š") ? "checked" : "" %>>
                    <label for="hasCamps"class="shadow-md 
                   ">
                        åˆå®¿ã‚ã‚Š
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="richMeetup" name="tag" value="å‡ºä¼šã„è±Šå¯Œ" class="hidden peer" <%= circle.tag.includes("å‡ºä¼šã„è±Šå¯Œ") ? "checked" : "" %>>
                    <label for="richMeetup"class="shadow-md 
                   ">
                        å‡ºä¼šã„è±Šå¯Œ
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="manyEvents" name="tag" value="ã‚¤ãƒ™ãƒ³ãƒˆå¤šã„" class="hidden peer" <%= circle.tag.includes("ã‚¤ãƒ™ãƒ³ãƒˆå¤šã„") ? "checked" : "" %>>
                    <label for="manyEvents"class="shadow-md 
                   ">
                        ã‚¤ãƒ™ãƒ³ãƒˆå¤šã„
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="calmCircle" name="tag" value="ç©ã‚„ã‹ã‚µãƒ¼ã‚¯ãƒ«" class="hidden peer" <%= circle.tag.includes("ç©ã‚„ã‹ã‚µãƒ¼ã‚¯ãƒ«") ? "checked" : "" %>>
                    <label for="calmCircle"class="shadow-md 
                   ">
                        ç©ã‚„ã‹ã‚µãƒ¼ã‚¯ãƒ«
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="livelyCircle" name="tag" value="ãƒãƒªãŒã„ã„" class="hidden peer" <%= circle.tag.includes("ãƒãƒªãŒã„ã„") ? "checked" : "" %>>
                    <label for="livelyCircle"class="shadow-md 
                   ">
                        ãƒãƒªãŒã„ã„
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="smallHomey" name="tag" value="å°‘äººæ•°ã§ã‚¢ãƒƒãƒˆãƒ›ãƒ¼ãƒ " class="hidden peer" <%= circle.tag.includes("å°‘ãªã‚ã®äººæ•°ã§ã‚¢ãƒƒãƒˆãƒ›ãƒ¼ãƒ ") ? "checked" : "" %>>
                    <label for="smallHomey"class="shadow-md 
                   ">
                        å°‘äººæ•°ã§ã‚¢ãƒƒãƒˆãƒ›ãƒ¼ãƒ 
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="livelyBig" name="tag" value="å…¨åŠ›ã‚¨ãƒ³ã‚¸ãƒ§ã‚¤" class="hidden peer"     <%= circle.tag.includes("ã‚ã„ã‚ã„è³‘ã‚„ã‹ã‚µãƒ¼ã‚¯ãƒ«") ? "checked" : "" %>>
                    <label for="livelyBig"class="shadow-md 
                   ">
                        å…¨åŠ›ã‚¨ãƒ³ã‚¸ãƒ§ã‚¤
                    </label>
                </div>
</li>
       
</li>
            <h3 class="text-lg font-bold mb-6 mt-6">æ´»å‹•ã‚¹ã‚¿ã‚¤ãƒ«ãƒ»ãƒ¡ãƒ³ãƒãƒ¼</h3>
            <div class="flex flex-wrap gap-4">
             <li>
<div>
                    <input type="checkbox" id="moreBoys" name="tag" value="ç”·å­å¤šã‚" class="hidden peer" <%= circle.tag.includes("ç”·å­å¤šã‚") ? "checked" : "" %>>
                    <label for="moreBoys"class="shadow-md 
                   ">
                        ç”·å­å¤šã‚
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="moreGirls" name="tag" value="å¥³å­å¤šã‚" class="hidden peer" <%= circle.tag.includes("å¥³å­å¤šã‚") ? "checked" : "" %>>
                    <label for="moreGirls"class="shadow-md 
                   ">
                        å¥³å­å¤šã‚
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="balancedGender" name="tag" value="ç”·å¥³ã®ãƒãƒ©ãƒ³ã‚¹ãŒã„ã„" class="hidden peer" <%= circle.tag.includes("ç”·å¥³ã®ãƒãƒ©ãƒ³ã‚¹ãŒã„ã„") ? "checked" : "" %>>
                    <label for="balancedGender"class="shadow-md 
                   ">
                        ç”·å¥³ã®ãƒãƒ©ãƒ³ã‚¹ãŒã„ã„
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="handsomeGuys" name="tag" value="ã‚¤ã‚±ãƒ¡ãƒ³ãŒå¤šã„" class="hidden peer" <%= circle.tag.includes("ã‚¤ã‚±ãƒ¡ãƒ³ãŒå¤šã„") ? "checked" : "" %>>
                    <label for="handsomeGuys"class="shadow-md 
                   ">
                        ã‚¤ã‚±ãƒ¡ãƒ³ãŒå¤šã„
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="prettyGirls" name="tag" value="ç¾å¥³ãŒå¤šã„" class="hidden peer" <%= circle.tag.includes("ç¾å¥³ãŒå¤šã„") ? "checked" : "" %>>
                    <label for="prettyGirls"class="shadow-md 
                   ">
                        ç¾å¥³ãŒå¤šã„
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="indoor" name="tag" value="ã‚¤ãƒ³ãƒ‰ã‚¢å‘ã" class="hidden peer" <%= circle.tag.includes("ã‚¤ãƒ³ãƒ‰ã‚¢å‘ã") ? "checked" : "" %>>
                    <label for="indoor"class="shadow-md 
                   ">
                        ã‚¤ãƒ³ãƒ‰ã‚¢å‘ã
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="outdoor" name="tag" value="ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢å‘ã" class="hidden peer"   <%= circle.tag.includes("ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢å‘ã") ? "checked" : "" %>>
                    <label for="outdoor"class="shadow-md 
                   ">
                        ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢å‘ã
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="drinksOk" name="tag" value="ã‚½ãƒ•ãƒ‰ãƒªå…¨ç„¶OK!" class="hidden peer" <%= circle.tag.includes("ã‚½ãƒ•ãƒ‰ãƒªå…¨ç„¶OK!") ? "checked" : "" %>>
                    <label for="drinksOk"class="shadow-md 
                   ">
                        ã‚½ãƒ•ãƒ‰ãƒªå…¨ç„¶OK!
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="drinkingParty" name="tag" value="é£²ã¿ä¼šã§ç››ã‚Šä¸ŠãŒã‚‹" class="hidden peer"      <%= circle.tag.includes("é£²ã¿ä¼šã§ç››ã‚Šä¸ŠãŒã‚‹") ? "checked" : "" %>>
                    <label for="drinkingParty"class="shadow-md 
                   ">
                        é£²ã¿ä¼šã§ç››ã‚Šä¸ŠãŒã‚‹
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="experienced" name="tag" value="çµŒé¨“è€…å‹¢å¤šã‚" class="hidden peer" <%= circle.tag.includes("çµŒé¨“è€…ãƒ»ã‚¬ãƒå‹¢å¤šã‚") ? "checked" : "" %>>
                    <label for="experienced"class="shadow-md 
                   ">
                        çµŒé¨“è€…å‹¢å¤šã‚
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="beginnersWelcome" name="tag" value="åˆå¿ƒè€…å¤§æ­“è¿" class="hidden peer" <%= circle.tag.includes("åˆå¿ƒè€…å¤§æ­“è¿") ? "checked" : "" %>>
                    <label for="beginnersWelcome"class="shadow-md 
                   ">
                        åˆå¿ƒè€…å¤§æ­“è¿
                    </label>
                </div>
</li>
            
            </div>
            
</li>
            <h3 class="text-lg font-bold mb-6 mt-6">å®Ÿç¸¾ãƒ»å¾—ã‚‰ã‚Œã‚‹ã‚‚ã®</h3>
            <div class="flex flex-wrap gap-4">
             <li>
<div>
                    <input type="checkbox" id="seriousCircle" name="tag" value="çœŸé¢ç›®ã«æ´»å‹•" class="hidden peer" <%= circle.tag.includes("çµæ§‹ã‚¬ãƒã§ã™") ? "checked" : "" %>>
                    <label for="seriousCircle"class="shadow-md 
                   ">
                       çœŸé¢ç›®ã«æ´»å‹•
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="enjoyable" name="tag" value="æ¥½ã—ã‚ã‚Œã°OK" class="hidden peer" <%= circle.tag.includes("æ¥½ã—ã‚ã‚Œã°OK") ? "checked" : "" %>>
                    <label for="enjoyable"class="shadow-md 
                   ">
                        æ¥½ã—ã‚ã‚Œã°OK
                    </label>
                </div>
</li>
           
<li>
    <div>
                        <input type="checkbox" id="enjoyable" name="tag" value="ä½•ã§ã‚‚ã§ãã‚‹" class="hidden peer" <%= circle.tag.includes("ä½•ã§ã‚‚ã§ãã‚‹") ? "checked" : "" %>>
                        <label for="enjoyable"class="shadow-md 
                       ">
                            ä½•ã§ã‚‚ã§ãã‚‹
                        </label>
                    </div>
    </li>

              
             <li>
<div>
                    <input type="checkbox" id="globalExchange" name="tag" value="å›½éš›äº¤æµã§ãã‚‹" class="hidden peer" <%= circle.tag.includes("å›½éš›äº¤æµã§ãã‚‹") ? "checked" : "" %>>
                    <label for="globalExchange"class="shadow-md 
                   ">
                        å›½éš›äº¤æµã§ãã‚‹
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="freeMembership" name="tag" value="å…¥ä¼šè²»ãƒ»å¹´ä¼šè²»ç„¡æ–™" class="hidden peer" <%= circle.tag.includes("å…¥ä¼šè²»ãƒ»å¹´ä¼šè²»ç„¡æ–™") ? "checked" : "" %>>
                    <label for="freeMembership"class="shadow-md 
                   ">
                        å…¥ä¼šè²»ãƒ»å¹´ä¼šè²»ç„¡æ–™
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="languageLearning" name="tag" value="è¨€èªã‚’å­¦ã¹ã‚‹" class="hidden peer" <%= circle.tag.includes("è¨€èªã‚’å­¦ã¹ã‚‹") ? "checked" : "" %>>
                    <label for="languageLearning"class="shadow-md 
                   ">
                        è¨€èªã‚’å­¦ã¹ã‚‹
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="achievements" name="tag" value="ã‚¬ã‚¯ãƒã‚«ä½œã‚Œã‚‹" class="hidden peer" <%= circle.tag.includes("ã‚¬ã‚¯ãƒã‚«ä½œã‚Œã‚‹") ? "checked" : "" %>>
                    <label for="achievements"class="shadow-md 
                   ">
                        ã‚¬ã‚¯ãƒã‚«ä½œã‚Œã‚‹
                    </label>
                </div>
</li>
             <li>
<div>
                    <input type="checkbox" id="senpaiFriendly" name="tag" value="å…ˆè¼©ã¨ã‚‚ä»²è‰¯ã—" class="hidden peer" <%= circle.tag.includes("å…ˆè¼©ã¨ã‚‚ä»²è‰¯ã—") ? "checked" : "" %>>
                    <label for="senpaiFriendly"class="shadow-md 
                   ">
                        å…ˆè¼©ã¨ã‚‚ä»²è‰¯ã—
                    </label>
                </div>
             <li>
<div>
                    <input type="checkbox" id="volunteer" name="tag" value="ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢" class="hidden peer" <%= circle.tag.includes("ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢") ? "checked" : "" %>>
                    <label for="volunteer"class="shadow-md 
                   ">
                        ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢
                    </label>
                </div>
             <li>
<div>
                    <input type="checkbox" id="awardWinning" name="tag" value="è¡¨å½°çµŒé¨“ã‚ã‚Š" class="hidden peer" <%= circle.tag.includes("è¡¨å½°çµŒé¨“ã‚ã‚Š") ? "checked" : "" %>>
                    <label for="awardWinning"class="shadow-md 
                   ">
                        è¡¨å½°çµŒé¨“ã‚ã‚Š
                    </label>
                </div>

             <li>
<div>
                    <input type="checkbox" id="internationalStudents" name="tag" value="ç•™å­¦ç”Ÿå¤šã‚" class="hidden peer" <%= circle.tag.includes("ç•™å­¦ç”Ÿå¤šã‚") ? "checked" : "" %>>
                    <label for="internationalStudents"class="shadow-md 
                   ">
                        ç•™å­¦ç”Ÿå¤šã‚
                    </label>
                </div>
                </li>
            </div>
        </ul>
        </div>
       </div>

       <script>

   // ğŸ”¹ å…¬èªã¨ç™»éŒ²å›£ä½“ã®ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹
   const officialCircle = document.getElementById("officialCircle");
    const certifiedCircle = document.getElementById("certifiedCircle");

    // ğŸ”¹ ã€Œå…¬èªã€ã¨ã€Œç™»éŒ²å›£ä½“ã€ã¯ã©ã¡ã‚‰ã‹ä¸€æ–¹ã®ã¿é¸æŠå¯èƒ½ã«ã™ã‚‹
    function toggleExclusiveSelection(selected, other) {
        if (selected.checked) {
            other.checked = false; // ã‚‚ã†ä¸€æ–¹ã‚’è§£é™¤
        }
    }

    officialCircle.addEventListener("change", function () {
        toggleExclusiveSelection(this, certifiedCircle);
    });

    certifiedCircle.addEventListener("change", function () {
        toggleExclusiveSelection(this, officialCircle);
    });


        document.addEventListener("DOMContentLoaded", function () {
            const maxTags = 25; // ğŸ”¹ é¸æŠã§ãã‚‹ã‚¿ã‚°ã®æœ€å¤§æ•°
            const checkboxes = document.querySelectorAll('input[name="tag"]');
        
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener("change", function () {
                    const checkedBoxes = document.querySelectorAll('input[name="tag"]:checked');
                    const checkedCount = checkedBoxes.length;
        
                    if (checkedCount > maxTags) {
                        alert(`ã‚¿ã‚°ã¯æœ€å¤§ï¼’ï¼•å€‹ã¾ã§ã—ã‹é¸æŠã§ãã¾ã›ã‚“ï¼`);
                        this.checked = false; // ğŸ”¹ ã“ã‚Œä»¥ä¸Šé¸ã¹ãªã„ã‚ˆã†ã«ã™ã‚‹
                        return;
                    }
        
                   
                });
            });
        });
        </script>
        
        
        

        <style>
/* å¿…è¦ãªã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ« */
.container2 {
    max-width: 640px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 13px;
}

/* ãƒªã‚¹ãƒˆã®åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« */
ul.ks-cboxtags {
    list-style: none;
}
ul.ks-cboxtags li {
    display: inline;
}

/* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãƒ©ãƒ™ãƒ«ã®åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« */
ul.ks-cboxtags li label {
    display: inline-block;
    background-color: rgba(255, 255, 255, .9);
    border: 2px solid rgba(139, 139, 139, .3);
    color: #adadad;
    border-radius: 25px;
    white-space: nowrap;
    padding: 8px 12px;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    transition: all .2s;
}

/* ãƒã‚§ãƒƒã‚¯æ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ« */
ul.ks-cboxtags li input[type="checkbox"]:checked + label {
    border-color: #6dfec7;
    background-color: #58ebb1;
    color: #fff;
    transition: all .2s;
}

/* ã‚¢ã‚¤ã‚³ãƒ³ã®å¤‰åŒ– */
ul.ks-cboxtags li label::before {
    display: inline-block;
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    font-size: 12px;
    content: "\f067";
    transition: transform .3s ease-in-out;
}

ul.ks-cboxtags li input[type="checkbox"]:checked + label::before {
    content: "\f00c";
    transform: rotate(-360deg);
    transition: transform .3s ease-in-out;
}



    </style>
        
 <div class="p-6 border-t">
       
   <!-- ä¸€è¨€ -->
   <div class="mt-6">
    <label for="comment" class="block text-gray-700 font-bold mb-4">
        ä¸€è¨€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ 
     
    </label>
    <h3 class="mb-4 text-sm opacity-70">ãƒˆãƒƒãƒ—ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ç´¹ä»‹æ–‡ã§ã™ï¼ˆ70å­—ä»¥å†…ï¼‰</h3>
    <textarea id="comment" name="comment" maxlength="70" placeholder="ä¾‹: ã¿ã‚“ãªä»²è‰¯ã—ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚µãƒ¼ã‚¯ãƒ«ã§ã™ï¼" 
        rows="2"
        class="w-full border border-[#eba789] rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-orange-300"> <%= circle.comment || '' %>
    </textarea>
</div>

   <!-- ç´¹ä»‹æ–‡ -->
<div class="mb-6 mt-6">
    <label for="description" class="block text-gray-700 font-bold mb-4">ç´¹ä»‹æ–‡</label>
    <textarea id="description" name="description" maxlength="1000" placeholder="ã‚µãƒ¼ã‚¯ãƒ«ã®ç‰¹å¾´ã‚„æ´»å‹•å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..." rows="10" 
    class="w-full border border-[#eba789] rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-orange-300"><%= circle.description || '' %>
</textarea>
</div>



        <!-- æ–°æ­“ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ç”»åƒ -->
   
<div class="mb-6">
    <label for="calendarPhotos" class="block text-gray-700 font-bold mb-4">æ–°æ­“ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ç”»åƒï¼ˆæœ€å¤§3æšï¼‰<span class="text-red-600">ï¼Šå¤‰æ›´ã™ã‚‹å ´åˆã®ã¿å…¨ã¦ç™»éŒ²ï¼ˆå¤‰æ›´ã—ãªã„å ´åˆã¯ãã®ã¾ã¾ï¼‰</span></label>
    <div id="calendarPhotoUpload" class="flex gap-2 flex-wrap">
        <div id="addCalendarPhotoButton" class="w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center cursor-pointer">
            <span class="text-2xl text-gray-400">+</span>
            <input type="file" id="calendarPhotos" accept="image/*" class="hidden">
        </div>
    </div>
    <div id="calendarPhotoPreviewContainer" class="flex gap-2 flex-wrap mt-4">
        <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒãŒã“ã“ã«è¿½åŠ ã•ã‚Œã‚‹ -->
    </div>
</div>

 <!-- `circleId` ã‚’é€ä¿¡ã™ã‚‹ãŸã‚ã® hidden input -->
 <input type="hidden" id="circleId" name="circleId" value="<%= circle.id %>">

 
</div>

<div class="p-6 mb-6 border-t border-gray-300">
    <h2 class="text-lg font-bold my-10">è©³ç´°æƒ…å ±</h2>
    <!-- æ´»å‹•å ´æ‰€ -->
    <div class="my-7">
        <label for="location" class="block text-gray-700 font-bold mb-4">ä¸»ãªæ´»å‹•å ´æ‰€ãƒ»æ¨å¥¨æ‰€å±ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ã‚’é¸æŠ</label>
        <select id="location" name="location"   class="w-full border border-[#eba789] rounded-lg h-12 focus:outline-none focus:ring-2 focus:ring-orange-300">
            <option value="ä»Šå‡ºå·ãƒ»äº¬ç”°è¾º" <%= circle.location === "ä»Šå‡ºå·ãƒ»äº¬ç”°è¾º" ? 'selected' : '' %>>ä»Šå‡ºå·ãƒ»äº¬ç”°è¾º</option>
            <option value="ä»Šå‡ºå·" <%= circle.location === "ä»Šå‡ºå·" ? 'selected' : '' %>>ä»Šå‡ºå·</option>
            <option value="äº¬ç”°è¾º" <%= circle.location === "äº¬ç”°è¾º" ? 'selected' : '' %>>äº¬ç”°è¾º</option>
            <option value="æœªé¸æŠ" <%= !circle.location ? 'selected' : '' %>>æœªé¸æŠ</option>
        </select>
    </div>

  <!-- å…¥ä¼šé‡‘ã¨å¹´ä¼šè²» -->
  <div class="mt-4">
    <label for="admissionFee" class="block text-gray-700 font-bold mb-4">å…¥ä¼šé‡‘ã€€(ç„¡æ–™ã®å ´åˆã¯ï¼ã‚’å…¥åŠ›)</label>
    <input type="number" id="admissionFee" name="admissionFee" placeholder="ä¾‹: 5000" value="<%= circle.admissionFee ?? '' %>"  class="w-full border border-[#eba789] rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-orange-300" maxlength="10">

</div>

<div class="mt-6">
    <label for="annualFee" class="block text-gray-700 font-bold mb-4">å¹´ä¼šè²»ã€€(ç„¡æ–™ã®å ´åˆã¯ï¼ã‚’å…¥åŠ›)</label>
    <input type="number" id="annualFee" name="annualFee" placeholder="ä¾‹: 10000" value="<%= circle.annualFee ?? '' %>"  class="w-full border border-[#eba789] rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-orange-300" maxlength="10">

</div>
<!-- instagramlink -->
<div class="mt-6">
    <label for="instagram" class="block text-gray-700 font-bold mb-4">Instagram ãƒªãƒ³ã‚¯</label>
    <h3 class="mb-4 text-sm opacity-70">
        ã‚µãƒ¼ã‚¯ãƒ«ã®å…¬å¼Instagramã®ãƒªãƒ³ã‚¯ã‚’å¼µã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚
        </h3>
    <input type="text" id="instagram" name="instagram" placeholder="instagramã®URLã‚’å…¥åŠ›..." value="<%= circle.instagram || '' %>" class="w-full border border-[#eba789] rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-orange-300" maxlength="100">
    
</div>

</div>


<div class="p-6 border-t border-gray-300">
  <!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ¬„ -->
<div class="mt-6 mb-6">
   
  
    <label for="password" class="block text-gray-700 font-bold mb-4">
        ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ <span class="text-red-500 opacity-80">ï¼Šå¿…é ˆ</span>
    </label>
    <h3 class="mb-4 text-sm opacity-70">
        ç®¡ç†è€…ç”¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼ˆ**å¤§æ–‡å­—ãƒ»å°æ–‡å­—ãƒ»æ•°å­—ã‚’å«ã¿10æ–‡å­—ä»¥ä¸Š**ï¼‰ã€‚<br>
        ã‚µãƒ¼ã‚¯ãƒ«ãƒšãƒ¼ã‚¸ã®ç·¨é›†ã€å‰Šé™¤æ™‚ã«å¿…è¦ã§ã™ã€‚å¿…ãšãƒ¡ãƒ¢ã‚’æ®‹ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚
    </h3>
    
    <!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ¬„ -->
    <div class="relative">
        <input 
        maxlength="30"
            type="password" 
            id="password" 
            name="password" 
            placeholder="ç®¡ç†è€…ç”¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š" 
            required 
            value="<%= circle.password %>"
            minlength="10"
            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{10,}$"
            title="å¤§æ–‡å­—ãƒ»å°æ–‡å­—ãƒ»æ•°å­—ã‚’å«ã‚€10æ–‡å­—ä»¥ä¸Šã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
            class="w-full border border-[#eba789] rounded-lg p-3 pr-10 focus:outline-none focus:ring-2 focus:ring-orange-300">
    </div>
    
    <!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèªç”¨è¡¨ç¤ºæ¬„ï¼ˆãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤ºï¼‰ -->
    <div class="mt-3">
        <label class="block text-gray-700 font-bold">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ç¢ºèª</label>
        <div class="w-full border border-gray-400 rounded-lg p-3 pr-10 bg-gray-100 text-gray-700">
            <span id="passwordconfirm">ï¼ˆã“ã“ã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼‰</span>
        </div>
    </div>
    
    <!-- JavaScript -->
    <script>
    document.getElementById("password").addEventListener("input", function () {
        const password = this.value;
        document.getElementById("passwordconfirm").textContent = password;  // å…¥åŠ›å†…å®¹ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¡¨ç¤º
    });
    </script>
    
    <h3 class="m-4 text-sm opacity-70">
        ï¼Šã‚¸ãƒ£ãƒ³ãƒ«ã®é¸æŠã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
    </h3>
            <!-- ã‚µãƒ–ãƒŸãƒƒãƒˆãƒœã‚¿ãƒ³ -->
            <input type="submit" value="ã‚µãƒ¼ã‚¯ãƒ«ã‚’æ²è¼‰ã™ã‚‹" 
                   class="submitbutton w-full bg-blue-300 shadow-lg text-white my-6 py-2 rounded-full hover:bg-blue-500 duration-300">
 </div>
    </form>
    <style>
        .submitbutton {
            background-image: linear-gradient(to right, #f5ce62, hsl(353, 100%, 86%), #eba789);
            box-shadow: 0 4px 15px 0 rgba(49, 196, 190, 0.75);
}


input:not(.slider), select, textarea {
    border: 1px solid transparent;
    padding: 10px;
    outline: none;
    transition: all 0.3s ease-in-out;
    background-clip: padding-box;
    background-color: #fff;

    /* âœ… border ã®ä»£ã‚ã‚Šã« box-shadow ã‚’ä½¿ã£ã¦ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨ */
    box-shadow: 0px 0px 0px 2px transparent, 0px 0px 0px 1px  rgba(239, 194, 81, 0.75);
}



/* âœ… ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã«ãƒœãƒ¼ãƒ€ãƒ¼ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨ */
input:focus, select:focus, textarea:focus {
    box-shadow: 0px 0px 0px 2px transparent, 0px 0px 0px 2px linear-gradient(to right, #f5ce62, hsl(353, 100%, 86%), #eba789);
}





    </style>
 <script>
 






document.addEventListener("DOMContentLoaded", function () {
    let cropper;
    let cropTarget = null; // 'top' or 'sub'
    let croppedTopFile = null; // ãƒˆãƒªãƒŸãƒ³ã‚°å¾Œã®ãƒˆãƒƒãƒ—ç”»åƒ
    let croppedSubFiles = []; // ãƒˆãƒªãƒŸãƒ³ã‚°å¾Œã®ã‚µãƒ–ç”»åƒ
    let currentSubFile = null; // ç¾åœ¨é¸æŠä¸­ã®ã‚µãƒ–ç”»åƒ
    let croppedCalendarFiles = [];
    let currentCalendarFile = null;

   
    const cropModal = document.getElementById("cropModal");
    const cropImage = document.getElementById("cropImage");
    const topPhotoInput = document.getElementById("topPhoto");
    const subPhotoInput = document.getElementById("subPhotos");
    const topPhotoPreview = document.getElementById("topPhotoPreview");
    const subPhotoPreviewContainer = document.getElementById("subPhotoPreviewContainer");
    const calendarPhotoInput = document.getElementById("calendarPhotos");
    const calendarPhotoPreviewContainer = document.getElementById("calendarPhotoPreviewContainer");


      // // ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‡¦ç†ï¼ˆãƒˆãƒƒãƒ—ç”»åƒï¼‰
    document.getElementById('topPhotoUpload').addEventListener('click', () => {
        document.getElementById('topPhoto').click();
    });
    // **ãƒˆãƒƒãƒ—ç”»åƒé¸æŠæ™‚ã«ãƒˆãƒªãƒŸãƒ³ã‚°é–‹å§‹**
    topPhotoInput.addEventListener("change", function (event) {
        const file = event.target.files[0];
        if (file) {
            openCropModal(file, "top");
        }
    });

        // // ã‚µãƒ–ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
    document.getElementById('subPhotoUpload').addEventListener('click', () => {
        document.getElementById('subPhotos').click();
    });
    // **ã‚µãƒ–ç”»åƒã‚’1æšé¸æŠã”ã¨ã«ãƒˆãƒªãƒŸãƒ³ã‚°é–‹å§‹**
    subPhotoInput.addEventListener("change", function (event) {
        const file = event.target.files[0];
        if (file) {
            currentSubFile = file; // ç¾åœ¨ã®ã‚µãƒ–ç”»åƒã‚’ä¿å­˜
            openCropModal(file, "sub");
        }
    });

  // // calendarç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
  document.getElementById('calendarPhotoUpload').addEventListener('click', () => {
    document.getElementById('calendarPhotos').click();
    });

  // **calendarç”»åƒã‚’1æšé¸æŠã”ã¨ã«ãƒˆãƒªãƒŸãƒ³ã‚°é–‹å§‹**
  calendarPhotoInput.addEventListener("change", function (event) {
        const file = event.target.files[0];
        if (file) {
            currentCalendarFile = file; // ç¾åœ¨ã®ã‚µãƒ–ç”»åƒã‚’ä¿å­˜
            openCropModal(file, "calendar");
        }
    });


    // **ãƒˆãƒªãƒŸãƒ³ã‚°ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã**
    function openCropModal(file, target) {
        const reader = new FileReader();
        reader.onload = function (e) {
            cropImage.src = e.target.result;
            cropModal.classList.remove("hidden");
            cropTarget = target;

            // Cropper.js ã®åˆæœŸåŒ–
            if (cropper) cropper.destroy();
            cropper = new Cropper(cropImage, {
            aspectRatio: 1,         // **ãƒˆãƒªãƒŸãƒ³ã‚°æ ã ã‘æ­£æ–¹å½¢ã«å›ºå®š**
            viewMode: 2,            // **iPhoneã®ã‚ˆã†ã«ã€ãƒˆãƒªãƒŸãƒ³ã‚°æ ã‚’ä¸­å¿ƒã«ç”»åƒã‚’è¡¨ç¤º**
            dragMode: "move",       // **ç”»åƒã®ã¿å‹•ã‹ã›ã‚‹**
            cropBoxMovable: false,  // **ãƒˆãƒªãƒŸãƒ³ã‚°æ ã®ç§»å‹•ã‚’ç¦æ­¢**
            cropBoxResizable: false,// **ãƒˆãƒªãƒŸãƒ³ã‚°æ ã®ã‚µã‚¤ã‚ºå¤‰æ›´ã‚’ç¦æ­¢**
            autoCropArea: 0.9,      // **ãƒˆãƒªãƒŸãƒ³ã‚°æ ã‚’å¤§ãã‚ã«è¡¨ç¤º**
            zoomable: true,         // **ãƒ”ãƒ³ãƒã‚¤ãƒ³ãƒ»ã‚¢ã‚¦ãƒˆã§ã‚ºãƒ¼ãƒ å¯èƒ½**
            scalable: false,        // **ç”»åƒã®ãƒªã‚µã‚¤ã‚ºä¸å¯**
            modal: true,            // **ãƒˆãƒªãƒŸãƒ³ã‚°æ ã®å¤–å´ã‚’åŠé€æ˜ã«ã™ã‚‹**
            background: false,       // **èƒŒæ™¯ã‚’æ¶ˆã—ã¦è¦‹ã‚„ã™ãã™ã‚‹**
            viewMode: 1,            // **ç”»åƒãŒãƒˆãƒªãƒŸãƒ³ã‚°æ ã‚ˆã‚Šå¤–ã«ã¯ã¿å‡ºã¦ã‚‚OK**
            autoCropArea: 1       // **ãƒˆãƒªãƒŸãƒ³ã‚°æ ã‚’æœ€å¤§åŒ–**
        });

           
        };
        reader.readAsDataURL(file);
    }

    // **ãƒˆãƒªãƒŸãƒ³ã‚°ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«**
    document.getElementById("cropCancel").addEventListener("click", function () {
        event.preventDefault(); 
        event.stopPropagation(); 
        cropModal.classList.add("hidden");
        subPhotoInput.value = "";
    });




    // **ãƒˆãƒªãƒŸãƒ³ã‚°ç”»åƒã‚’ä¿å­˜**
    document.getElementById("cropSave").addEventListener("click", function () {
        event.preventDefault(); 
        event.stopPropagation(); 
        const canvas = cropper.getCroppedCanvas();
        canvas.toBlob(function (blob) {
            const croppedFile = new File([blob], "cropped.jpg", { type: "image/jpeg" });

            if (cropTarget === "top") {
                // ãƒˆãƒƒãƒ—ç”»åƒã®ä¿å­˜ï¼†ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
                croppedTopFile = croppedFile;
                const reader = new FileReader();
                reader.onload = function (e) {
                    topPhotoPreview.src = e.target.result;
                    topPhotoPreview.classList.remove("hidden");
                   
                    removeTopPhoto.classList.remove("hidden"); // **å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ç¢ºå®Ÿã«è¡¨ç¤º**
                };
                reader.readAsDataURL(croppedFile);
            }else  if (cropTarget === "sub") {
                // ã‚µãƒ–ç”»åƒã®ä¿å­˜ï¼†ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
                croppedSubFiles.push(croppedFile);
                const reader = new FileReader();
                reader.onload = function (e) {
                    const container = document.createElement("div");
                    container.classList.add("relative", "w-24", "h-24", "rounded-lg", "overflow-hidden", "shadow-lg");

                    const img = document.createElement("img");
                    img.src = e.target.result;
                    img.alt = "ã‚µãƒ–ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼";
                    img.classList.add("w-24", "h-24", "rounded", "object-cover", "border", "border-[#ddc4ff]");
                    container.appendChild(img);

                    // ğŸ”¹ å‰Šé™¤ãƒœã‚¿ãƒ³
                    const removeBtn = document.createElement("button");
                    removeBtn.innerHTML = "Ã—";
                    removeBtn.classList.add("absolute", "z-10", "top-0", "right-0", "bg-red-500", "text-white", "text-xs", "rounded-full", "px-2", "py-1");
                    container.appendChild(removeBtn); // ğŸ”¹ å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ç”»åƒã®ä¸Šã«é…ç½®
                    subPhotoPreviewContainer.appendChild(container);

                     // ğŸ”¹ å‰Šé™¤ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
                     removeBtn.addEventListener("click", function () {
                        event.preventDefault(); 
                        event.stopPropagation(); 
                        const containerIndex = parseInt(container.dataset.index, 10); // ğŸ”¹ å‰Šé™¤ã™ã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å–å¾—
                        croppedSubFiles.splice(containerIndex, 1); // ğŸ”¹ `croppedSubFiles` ã‹ã‚‰å‰Šé™¤
                        container.remove(); // ğŸ”¹ HTMLä¸Šã®è¦ç´ ã‚’å‰Šé™¤
                        updateSubPhotoIndexes(); // ğŸ”¹ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’æ›´æ–°
                    });

                };
                reader.readAsDataURL(croppedFile);

                // æ¬¡ã®ã‚µãƒ–ç”»åƒã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«ãƒªã‚»ãƒƒãƒˆ
                subPhotoInput.value = "";
            }else if (cropTarget === "calendar") {
                // ã‚µãƒ–ç”»åƒã®ä¿å­˜ï¼†ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
                croppedCalendarFiles.push(croppedFile);
                const reader = new FileReader();
                reader.onload = function (e) {
                    const container = document.createElement("div");
                    container.classList.add("relative", "w-24", "h-24", "rounded-lg", "overflow-hidden");

                    const img = document.createElement("img");
                    img.src = e.target.result;
                    img.alt = "ã‚µãƒ–ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼";
                    img.classList.add("w-24", "h-24", "rounded", "object-cover", "border", "border-gray-300");
                    container.appendChild(img);

                    // ğŸ”¹ å‰Šé™¤ãƒœã‚¿ãƒ³
                    const removeBtn = document.createElement("button");
                    removeBtn.innerHTML = "Ã—";
                    removeBtn.classList.add("absolute", "z-10", "top-0", "right-0", "bg-red-500", "text-white", "text-xs", "rounded-full", "px-2", "py-1");
                    container.appendChild(removeBtn); // ğŸ”¹ å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ç”»åƒã®ä¸Šã«é…ç½®
                    calendarPhotoPreviewContainer.appendChild(container);

                     // ğŸ”¹ å‰Šé™¤ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
                     removeBtn.addEventListener("click", function () {
                        event.preventDefault(); 
                        event.stopPropagation(); 
                        const containerIndex = parseInt(container.dataset.index, 10); // ğŸ”¹ å‰Šé™¤ã™ã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å–å¾—
                        croppedCalendarFiles.splice(containerIndex, 1); // ğŸ”¹ `croppedCalendarFiles` ã‹ã‚‰å‰Šé™¤
                        container.remove(); // ğŸ”¹ HTMLä¸Šã®è¦ç´ ã‚’å‰Šé™¤
                        updateCalendarIndexes(); // ğŸ”¹ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’æ›´æ–°
                    });

                };
                reader.readAsDataURL(croppedFile);

                // æ¬¡ã®ã‚µãƒ–ç”»åƒã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«ãƒªã‚»ãƒƒãƒˆ
                calendarPhotos.value = "";
            }

            cropModal.classList.add("hidden");
        }, "image/jpeg");
    });


    // ãƒˆãƒƒãƒ—ç”»åƒã®å‰Šé™¤å‡¦ç†
    removeTopPhoto.addEventListener("click", function () {
        event.preventDefault(); 
        event.stopPropagation(); 
        topPhotoPreview.src = "#";
        topPhotoPreview.classList.add("hidden");
        removeTopPhoto.classList.add("hidden"); // ğŸ”¹ å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’éš ã™
        topPhotoInput.value = ""; // ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠã‚’ãƒªã‚»ãƒƒãƒˆ
        croppedTopFile = null; // **FormData ã«é€ä¿¡ã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹**
    });


    // **ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ã«ãƒˆãƒªãƒŸãƒ³ã‚°å¾Œã®ç”»åƒã‚’ `FormData` ã«è¿½åŠ **
    document.getElementById("circle-form").addEventListener("submit", function (event) {
        event.preventDefault();

        const form = document.getElementById("circle-form");
        const formData = new FormData(form);

        // **ãƒˆãƒªãƒŸãƒ³ã‚°å¾Œã®ãƒˆãƒƒãƒ—ç”»åƒã‚’ `FormData` ã«ã‚»ãƒƒãƒˆ**
       // **å‰Šé™¤æ¸ˆã¿ã®ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã—ãªã„ã‚ˆã†ã«ã™ã‚‹**
    if (croppedTopFile) {
        formData.set("topPhoto", croppedTopFile);
    } else {
        formData.delete("topPhoto"); // **å‰Šé™¤æ¸ˆã¿ãªã‚‰ FormData ã‹ã‚‰ã‚‚å‰Šé™¤**
    }

    // **ã‚µãƒ–ç”»åƒã‚‚ã€å‰Šé™¤ã•ã‚ŒãŸã‚‚ã®ã‚’é™¤ã„ã¦é€ä¿¡**
    formData.delete("subPhotos"); // **æ—¢å­˜ã® subPhotos ã‚’å‰Šé™¤**
    croppedSubFiles.forEach((file) => {
        formData.append("subPhotos", file);
    });

     // **calendarç”»åƒã‚‚ã€å‰Šé™¤ã•ã‚ŒãŸã‚‚ã®ã‚’é™¤ã„ã¦é€ä¿¡**
     formData.delete("calendarPhotos"); // **æ—¢å­˜ã® calendarPhotos ã‚’å‰Šé™¤**
    croppedCalendarFiles.forEach((file) => {
        formData.append("calendarPhotos", file);
    });

       

        
        
        // **ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å€¤ã‚’è¿½åŠ **
        formData.append("slider1", document.getElementById("slider1").value);
        formData.append("slider2", document.getElementById("slider2").value);
        formData.append("slider3", document.getElementById("slider3").value);
        formData.append("slider4", document.getElementById("slider4").value);

      // é¸æŠã•ã‚ŒãŸã‚¿ã‚°ã‚’å–å¾—ã—ã€ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®æ–‡å­—åˆ—ã«ã™ã‚‹
    const tagCheckboxes = document.querySelectorAll('input[name="tag"]:checked');
    const tags = Array.from(tagCheckboxes).map(checkbox => checkbox.value).join(',');

        // **ãƒ‡ãƒãƒƒã‚°ç”¨ï¼ˆ`FormData` ã®å†…å®¹ã‚’è¡¨ç¤ºï¼‰**
        for (const pair of formData.entries()) {
            console.log(pair[0], pair[1]);
        }

          
        // **ã‚µãƒ¼ãƒãƒ¼ã¸é€ä¿¡ï¼ˆfetch ã‚’1å›ã ã‘å®Ÿè¡Œï¼‰**
        fetch("/circles/edit/${circleId}", {
            method: "POST",
            body: formData,
        })
        .then(response => {
            if (!response.ok) {
                return response.json().then(data => {
                    throw new Error(data.error || "ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ");
                });
            }
            return response.json();
        })
        .then(data => {
            alert("ã‚µãƒ¼ã‚¯ãƒ«ãŒç™»éŒ²ã•ã‚Œã¾ã—ãŸï¼");
            window.location.href = "/";  
        })
        .catch(error => {
            console.error("ã‚¨ãƒ©ãƒ¼:", error);
            alert(`ç™»éŒ²ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`);
        });
    });
});


    </script>
</body>
</html>





















