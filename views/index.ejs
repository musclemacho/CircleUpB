<!DOCTYPE html>
<html lang="ja" >
<head>
    <meta charset="UTF-8">
    <meta name="theme-color" content=" rgb(255, 210, 121)"> <!-- „Ç™„É¨„É≥„Ç∏Ëâ≤ („Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ) -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/output.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
    <title>„Çµ„Éº„ÇØ„É´„Éë„Éº„ÇØ</title>
</head>


<body class="font-sans flex justify-center pb-64" >
    <div class="w-full max-w-[500px]  min-h-screen" >

    <!-- „Éò„ÉÉ„ÉÄ„Éº -->
    <header class="text-black pt-3 pb-2 px-4 flex justify-between items-center sticky top-0 z-50"
        style="background: linear-gradient(to bottom, rgb(255, 210, 121), rgb(255, 222, 138));">
        <div class="flex items-center gap-3">
            <div class="hamburger cursor-pointer flex flex-col justify-around h-5" onclick="toggleMenu()">
                <span class="block w-5 h-0.5 bg-black"></span>
                <span class="block w-5 h-0.5 bg-black"></span>
                <span class="block w-5 h-0.5 bg-black"></span>
            </div>
        </div>
        <div class="flex items-center gap-3">
            <!-- „Éõ„Éº„É†„Ç¢„Ç§„Ç≥„É≥ -->
            <a href="/" class="text-black hover:text-gray-600">
                <i class="fa-solid fa-house text-lg"></i>
            </a>
        </div>
        <div class="relative w-3/4 bg-white rounded-lg">
            <form action="/search" id="searchname" method="get">
                <div class="flex items-center  rounded-lg px-3 py-1 focus-within:ring-2 focus-within:ring-blue-400">
                    <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    </svg>
                    <input 
                        id="inputname" 
                        type="text" 
                        name="name" 
                        placeholder="„Ç≠„Éº„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ..." 
                        class="w-full px-2 py-1 text-gray-800 focus:outline-none"
                    >
                </div>
            </form>
        </div>
    </header>
        
    <!-- „Çµ„Ç§„Éâ„É°„Éã„É•„Éº -->
    <div 
        id="menu" 
        class="fixed top-0 left-[-280px] w-[270px] h-full bg-white shadow-lg p-5 transition-all duration-300 ease-in-out z-50 border-r border-gray-200">
         <button 
            class="my-3 mx-3 top-4 left-4 text-gray-700 hover:text-black transition"
            onclick="toggleMenu()">
            <i class="fa-solid fa-xmark text-2xl"></i>
        </button>
        <ul class="space-y-6 pl-4">
            <li><a href="https://tayori.com/form/fbd27edda2113d1b1543aaf025030dc365a71cd6/" class="block text-gray-800 text-lg hover:text-black transition">„ÅäÂïè„ÅÑÂêà„Çè„Åõ</a></li>
            <li><a href="/policy" class="block text-gray-800 text-lg hover:text-black transition">„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº</a></li>
            <li><a href="/newCircle" class="block text-gray-800 text-lg hover:text-black transition">„Çµ„Éº„ÇØ„É´„ÇíÊäïÁ®ø„Åô„Çã</a></li>
        </ul>
    </div>

    <script>
        function toggleMenu() {
            const menu = document.getElementById("menu");
            if (menu.style.left === "0px") {
                menu.style.left = "-270px";
            } else {
                menu.style.left = "0px";
            }
        }

        document.addEventListener('click', function(event) {
            const menu = document.getElementById("menu");
            const hamburger = document.querySelector(".hamburger");

            if (!menu.contains(event.target) && !hamburger.contains(event.target)) {
                menu.style.left = "-80%";
            }
        });
    </script>

    <!-- header‰∏ã -->
    <div class="flex justify-around items-center mb-4 py-3 px-4 bg-white shadow-md rounded-b-2xl gap-4" style="background: linear-gradient(to bottom,rgb(255, 222, 138), rgb(255, 255, 131));"">
        <!-- üîç Ê§úÁ¥¢„Éú„Çø„É≥ -->
        <div data-target="search1" class="flex-1 flex flex-col items-center justify-center cursor-pointer hover:scale-105 transition-transform"
            onclick="toggleModal(this)">
            <div class="w-full max-w-[160px] h-14 flex items-center justify-center bg-blue-100 text-blue-600 rounded-lg shadow-md">
                <i class="fa-solid fa-magnifying-glass text-xl mr-2"></i>
                <span class="text-sm font-medium">Ê§úÁ¥¢</span>
            </div>
        </div>

        <!-- ‚≠ê „ÅäÊ∞ó„Å´ÂÖ•„Çä„Éú„Çø„É≥ -->
        <div class="flex-1 flex flex-col items-center justify-center cursor-pointer transition-transform"
             id="favoriteButton" onclick="handleFavoriteButtonClick()">
            <div class="w-full max-w-[160px] h-14 flex items-center justify-center rounded-lg shadow-md"
                id="favoriteButtonInner">
                <i class="fa-solid fa-star text-xl mr-2"></i>
                <span class="text-sm font-medium">„ÅäÊ∞ó„Å´ÂÖ•„Çä</span>
            </div>
         </div>
    </div>


    <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
    <div class="w-full px-4">

        <!-- „Çµ„Éº„ÇØ„É´„Ç´„Éº„Éâ -->
        <div class="grid grid-cols-1 gap-4 mb-2">
            <% circles.forEach(circle => { %>
                <div class="p-4 border border-gray-100 bg-white rounded-3xl shadow-lg hover:shadow-lg transition duration-300 cursor-pointer relative circle-card"
                data-circle-id="<%= circle.id %>">

            <!-- ÂÖ¨Ë™ç„Éû„Éº„ÇØ -->
                <% if (circle.tag.includes("ÂÖ¨Ë™ç")) { %>
                    <div class="icon-container">
                        <i class="fas fa-bookmark bg-gradient-to-r from-[#ffee00] via-[#ffcc00] to-[#ffbb00] bg-clip-text text-transparent drop-shadow-[0_4px_15px_rgba(255,220,50,0.85)]"></i>
                        <span class="icon-text text-white">ÂÖ¨Ë™ç</span>
                    </div>
                <% } else if (circle.tag.includes("ÁôªÈå≤Âõ£‰Ωì")) { %>
                    <div class="icon-container">
                        <i class="fas fa-bookmark  bg-gradient-to-r from-[#66ffe8]  to-[#40b8b4] bg-clip-text text-transparent drop-shadow-[0_4px_8px_rgba(49,196,190,0.75)]"></i>
                        <span class="icon-text text-white">ÁôªÈå≤</span>
                    </div>
                <% } %>
                
                

                <!-- ‰∏äÈÉ®: ÂÜôÁúü + ÊñáÂ≠óÊÉÖÂ†± -->
                <div class="flex gap-4">
                    <!-- Â∑¶ÂÅ¥: ÂÜôÁúü -->
                    <div class="flex flex-col w-32 relative">
                        <% if (circle.topPhoto) { %>
                            <div class="relative w-32 h-32 bg-gray-100 rounded-lg overflow-hidden shadow-md">
                                <img src="/uploads/<%= circle.topPhoto %>" 
                                    alt="„Çµ„Éº„ÇØ„É´ÁîªÂÉè" 
                                    class="absolute inset-0 w-full h-full object-cover">
                                
                                <!-- „ÅäÊ∞ó„Å´ÂÖ•„Çä„Éú„Çø„É≥ÔºàÁîªÂÉè„ÅÆÂè≥‰∏ãÔºâ -->
                                <div class="absolute bottom-1 right-1">
                                    <input type="checkbox" id="favoriteCheckbox-<%= circle.id %>" class="hidden">
                                    <label for="favoriteCheckbox-<%= circle.id %>" class="cursor-pointer">
                                        <i id="favoriteIcon-<%= circle.id %>" class="fa-regular fa-star text-gray-400 text-xl"></i>
                                    </label>
                                </div>
                            </div>
                        <% } %>
                    </div>
                    

                    <!-- Âè≥ÂÅ¥: -->
                    <div class="flex-1">
                        <h5 class="text-xl font-bold line-clamp-3 overflow-hidden"><%= circle.circleName %></h5>
                                        
                        <!-- „Ç∏„É£„É≥„É´ -->
                        <% if (circle && Object.keys(circle).length > 0) { %>
                            <% if (circle.mainGenre || circle.subGenre) { %>
                                <p class="mt-2 text-base border w-max border-gray-300 rounded px-1 text-bold text-gray-800">
                                    <% if (["„ÉÜ„Éã„Çπ", "ËªΩÈü≥", "„Éú„É©„É≥„ÉÜ„Ç£„Ç¢", "ÂõΩÈöõ‰∫§ÊµÅ", "„Ç§„Éô„É≥„Éà"].includes(circle.mainGenre)) { %>
                                        <%= circle.mainGenre %>
                                    <% } else if (circle.subGenre === "„Åù„ÅÆ‰ªñ" && circle.other && circle.other.trim() !== "") { %>
                                        <%= circle.other %>
                                    <% } else if (circle.subGenre === "ÈÅ∏Êäû„Åó„Å™„ÅÑ") { %>
                                        <%= circle.mainGenre %>
                                    <% } else { %>
                                        <%= circle.subGenre || '' %>
                                    <% } %>
                                </p>
                            <% } %>
                        <% } %>
                        
                        <!-- ‰∫∫Êï∞ -->
                        <p class="mt-1 text-sm text-gray-800">‰∫∫Êï∞: <%= circle.parsedSlider1 || '‰∏çÊòé' %>‰∫∫</p>

                        <!-- Ê¥ªÂãïÂú∞ -->
                        <p class="mt-1 text-sm text-gray-800"> Ê¥ªÂãïÂú∞Ôºö<%= circle.location %></p>

                </div>
            </div>
                    
            <!-- „Ç≥„É°„É≥„Éà -->
            <% if (circle.comment && circle.comment.trim() !== "") { %>
                <!-- „Ç≥„É°„É≥„Éà„Çª„ÇØ„Ç∑„Éß„É≥Ôºà„Éá„Éº„Çø„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅÆ„ÅøË°®Á§∫Ôºâ -->
                <div class="relative mt-3">
                    <!-- ÈâõÁ≠Ü„Ç¢„Ç§„Ç≥„É≥ÔºàÂ∑¶‰∏äÂõ∫ÂÆöÔºâ -->
                    <i class="fas fa-pencil-alt text-sm absolute top-0 left-0 bg-gradient-to-r from-[#f5ce62] via-[#e43603] via-[#fa7199] to-[#e85a19] bg-clip-text text-transparent drop-shadow-[0_4px_15px_rgba(229,66,10,0.75)]"></i>
                    
                    <!-- „Ç≥„É°„É≥„Éà„ÉÜ„Ç≠„Çπ„Éà -->
                    <p class="text-sm text-gray-700 line-clamp-3 overflow-hidden pl-4">
                        <%= circle.comment %>
                    </p>
                </div>
            <% } %>

            <!-- „Çø„Ç∞ÔºàÂÜôÁúüÔºã„ÉÜ„Ç≠„Çπ„Éà„ÅÆ‰∏ã„Å´Ê®™„ÅÑ„Å£„Å±„ÅÑ„Å´ÈÖçÁΩÆ„ÄÅÊ®™„Çπ„ÇØ„É≠„Éº„É´ÂØæÂøúÔºâ -->
            <% if (circle.tag) { %>
                <div class="mt-2 w-full py-1 overflow-x-auto scrollbar-hide">
                    <div class="flex flex-wrap gap-x-2 w-max">
                        <% circle.tag.split(',').forEach(tag => { %>
                            <% if (!["null1", "null2", "null3", "null4"].includes(tag.trim())) { %>
                                <span class="border border-[#f5ce62] bg-gradient-to-r from-[#f5ce62] via-[hsl(353,100%,86%)] to-[#ffc850] 
                                            text-white px-3 py-1 opacity-90 rounded-full text-sm 
                                            shadow-lg transition duration-300 cursor-pointer">
                                    <%= tag.trim() %>
                                </span>
                            <% } %>
                        <% }) %>
                    </div>
                </div>
            <% } %>
      
            </div>
            <% }) %>
        </div>
    </div>

    <style>
    /* <!-- „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÇíÈùûË°®Á§∫„Å´„Åô„ÇãCSS --> */
       
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }

   /* „ÅäÊ∞ó„Å´ÂÖ•„Çä„Éú„Çø„É≥ */
            .icon-container {
            position: absolute;
            top: -5px;
            left: 16px;
            z-index: 5;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px; /* „Ç¢„Ç§„Ç≥„É≥„ÅÆ„Çµ„Ç§„Ç∫„Å®Âêå„Åò */
            height: 40px; /* „Ç¢„Ç§„Ç≥„É≥„ÅÆ„Çµ„Ç§„Ç∫„Å®Âêå„Åò */
            font-size: 40px;
            
            color: rgb(255, 255, 126);
        }

        .icon {
            position: absolute;
            inset: 0; /* „Ç¢„Ç§„Ç≥„É≥„Çí `icon-container` „Å´„Å¥„Å£„Åü„ÇäÈáç„Å≠„Çã */
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            
        }

        .icon-text {
            writing-mode: vertical-rl; /* Á∏¶Êõ∏„Åç */
            text-orientation: upright; /* ÊñáÂ≠ó„ÇíÊ≠£„Åó„ÅèË°®Á§∫ */
            white-space: nowrap; /* Êäò„ÇäËøî„Åó„ÇíÈò≤„Åê */
            letter-spacing: 4px; /* ÊñáÂ≠ó„ÅÆÈñìÈöî„ÇíÂ∫É„Åí„Çã */
            position: absolute;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
            top: 45%;
            transform: translateY(-50%);
        }
        </style>
            


    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const favoriteCheckboxes = document.querySelectorAll("input[id^='favoriteCheckbox-']");
            const favoriteIcons = document.querySelectorAll("i[id^='favoriteIcon-']");

        
        // ‚úÖ „Ç´„Éº„Éâ„ÇØ„É™„ÉÉ„ÇØÊôÇ„Å´„ÅÆ„Åø„Éö„Éº„Ç∏ÈÅ∑Áßª
        document.querySelectorAll(".circle-card").forEach(card => {
            card.addEventListener("click", function (event) {
                const circleId = card.getAttribute("data-circle-id");

                // ‚úÖ „ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„ÅüË¶ÅÁ¥†„Åå `input` „ÇÑ `i` „Åß„Å™„ÅÑÂ†¥Âêà„ÅÆ„ÅøÈÅ∑Áßª
                if (!event.target.closest("input[id^='favoriteCheckbox-'], i[id^='favoriteIcon-']")) {
                    window.location.href = `/circle/${circleId}`;
                }
            });
        });

        // „ÅäÊ∞ó„Å´ÂÖ•„Çä„Éú„Çø„É≥Ëâ≤
            let favorites = JSON.parse(localStorage.getItem("favorites")) || [];

            function updateFavoriteButton(circleId) {
                const checkbox = document.getElementById(`favoriteCheckbox-${circleId}`);
                const icon = document.getElementById(`favoriteIcon-${circleId}`);
                const isFavorite = favorites.includes(circleId);

                if (checkbox) checkbox.checked = isFavorite;
                if (icon) {
                    icon.classList.toggle("fa-solid", isFavorite);
                    icon.classList.toggle("fa-regular", !isFavorite);
                    icon.classList.toggle("text-yellow-400", isFavorite);
                }
            }

            // ‚úÖ ÂàùÊúüÁä∂ÊÖã„ÇíÈÅ©Áî®„ÄÄ„ÅäÊ∞ó„Å´ÂÖ•„ÇäÁôªÈå≤
            favoriteCheckboxes.forEach(checkbox => {
                const circleId = checkbox.id.replace("favoriteCheckbox-", "");
                updateFavoriteButton(circleId);

                checkbox.addEventListener("change", function () {
                    if (checkbox.checked) {
                        favorites.push(circleId);
                    } else {
                        favorites = favorites.filter(id => id !== circleId);
                    }
                    localStorage.setItem("favorites", JSON.stringify(favorites));
                    updateFavoriteButton(circleId);
                });
            });
        });
        
        // „Éò„ÉÉ„ÉÄ„Éº‰∏ã„ÅÆ„ÅäÊ∞ó„Å´ÂÖ•„Çä„Éú„Çø„É≥
        document.addEventListener("DOMContentLoaded", function () {
            updateFavoriteButton();
        });

        function updateFavoriteButton() {
            const button = document.getElementById("favoriteButtonInner");

            if (window.location.pathname === "/searchFav") {
                // „ÅäÊ∞ó„Å´ÂÖ•„Çä‰∏ÄË¶ß„Éö„Éº„Ç∏„ÅÆÂ†¥Âêà„ÄÅ„Éú„Çø„É≥„ÅÆËâ≤„ÇíÊøÉ„Åè„Åô„Çã
                button.classList.add("bg-yellow-500", "text-white");
                button.classList.remove("bg-yellow-100", "text-yellow-600");
            } else {
                // „Éõ„Éº„É†„Éö„Éº„Ç∏„ÅÆÂ†¥Âêà„ÄÅ„Éú„Çø„É≥„ÅÆËâ≤„ÇíËñÑ„Åè„Åô„Çã
                button.classList.add("bg-yellow-100", "text-yellow-600");
                button.classList.remove("bg-yellow-500", "text-white");
            }
        }

        function handleFavoriteButtonClick() {
            let favorites = JSON.parse(localStorage.getItem("favorites")) || [];

            if (window.location.pathname === "/searchFav") {
                // ÁèæÂú®„ÅÆ„Éö„Éº„Ç∏„Åå /searchFav „ÅÆÂ†¥Âêà„ÄÅ„Éõ„Éº„É†„Å´Êàª„Çã
                window.location.href = "/";
                return;
            }

            if (favorites.length === 0) {
                alert("„ÅäÊ∞ó„Å´ÂÖ•„Çä„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ");
                return;
            }

            console.log("ÈÄÅ‰ø°„Åô„ÇãID„É™„Çπ„Éà:", favorites);

            let params = new URLSearchParams();
            favorites.forEach(id => params.append('id', id));

            window.location.href = `/searchFav?${params.toString()}`;
        }


    </script>





    <!-- Êñ∞„Åó„ÅÑ„Éö„Éº„Ç∏ -->
    <div id="search1" class=" overflow-y-auto fixed bottom-0 left-0 w-full h-full bg-white rounded-t-2xl shadow-lg transform translate-y-full transition-transform duration-300 z-50">

        <body class="bg-gray-100 min-h-screen flex items-center justify-center">

            <button class="mx-6 my-6 text-gray-700 hover:text-gray-900 mb-4 text-2xl"
                data-target="search1" onclick="toggleModal(this)">
                <i class="fa-solid fa-xmark"></i>
             </button>

             <!-- „É°„Ç§„É≥„Ç∏„É£„É≥„É´„Ç≥„Éº„Éä„Éº -->
            <div class="space-y-6 p-6 bg-white rounded-lg shadow-lg max-w-md mx-auto">

                <form action="/search" id="filter-form" method="get">
                                
                    <!-- „É°„Ç§„É≥„Ç∏„É£„É≥„É´ÈÅ∏Êäû -->
                    <div class="mb-6">
                        <fieldset class="checkbox-group">
                            <legend class="checkbox-group-legend text-gray-700 text-lg font-bold mb-6">„É°„Ç§„É≥„Ç∏„É£„É≥„É´„ÇíÈÅ∏Êäû</legend>
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                        
                                <!-- „ÉÜ„Éã„Çπ -->
                                <div class="tile">
                                    <input type="checkbox" id="tennis" name="searchGenre" value="„ÉÜ„Éã„Çπ" class="hidden peer">
                                    <label for="tennis" class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer 
                                    peer-checked:bg-gradient-to-r peer-checked:from-[#f5ce62] peer-checked:via-[hsl(353,100%,86%)] peer-checked:to-[#ffc850] 
                                    peer-checked:border-[#f5ce62] peer-checked:text-white peer-checked:scale-105 
                                        transition-all duration-300 ease-in-out shadow-md hover:shadow-lg">
                                        <i class="fas fa-table-tennis text-3xl"></i>
                                        <h6 class="mt-2 text-lg font-semibold">„ÉÜ„Éã„Çπ</h6>
                                    </label>
                                </div>
                        
                                <!-- ËªΩÈü≥ -->
                                <div class="tile">
                                    <input type="checkbox" id="lightMusic" name="searchGenre" value="ËªΩÈü≥" class="hidden peer">
                                    <label for="lightMusic" class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer 
                                    peer-checked:bg-gradient-to-r peer-checked:from-[#f5ce62] peer-checked:via-[hsl(353,100%,86%)] peer-checked:to-[#ffc850] 
                                    peer-checked:border-[#f5ce62] peer-checked:text-white peer-checked:scale-105 
                                        transition-all duration-300 ease-in-out shadow-md hover:shadow-lg">
                                        <i class="fas fa-guitar text-3xl"></i>
                                        <h6 class="mt-2 text-lg font-semibold">ËªΩÈü≥</h6>
                                    </label>
                                </div>
                        
                                <!-- „Çπ„Éù„Éº„ÉÑ -->
                                <div class="tile">
                                    <input type="checkbox" id="sports" name="searchGenre" value="„Çπ„Éù„Éº„ÉÑ" class="hidden peer">
                                    <label for="sports" class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer 
                                    peer-checked:bg-gradient-to-r peer-checked:from-[#f5ce62] peer-checked:via-[hsl(353,100%,86%)] peer-checked:to-[#ffc850] 
                                    peer-checked:border-[#f5ce62] peer-checked:text-white peer-checked:scale-105 
                                        transition-all duration-300 ease-in-out shadow-md hover:shadow-lg">
                                        <i class="fas fa-dumbbell text-3xl"></i>
                                        <h6 class="mt-2 text-lg font-semibold">„Çπ„Éù„Éº„ÉÑ</h6>
                                    </label>
                                </div>
                        
                                <!-- „Ç§„Éô„É≥„Éà -->
                                <div class="tile">
                                    <input type="checkbox" id="events" name="searchGenre" value="„Ç§„Éô„É≥„Éà" class="hidden peer">
                                    <label for="events" class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer 
                                    peer-checked:bg-gradient-to-r peer-checked:from-[#f5ce62] peer-checked:via-[hsl(353,100%,86%)] peer-checked:to-[#ffc850] 
                                    peer-checked:border-[#f5ce62] peer-checked:text-white peer-checked:scale-105 
                                        transition-all duration-300 ease-in-out shadow-md hover:shadow-lg">
                                        <i class="fas fa-tent text-3xl"></i>
                                        <h6 class="mt-2 text-lg font-semibold">„Ç§„Éô„É≥„Éà</h6>
                                    </label>
                                </div>
                        
                                <!-- ÊñáÂåñÁ≥ª -->
                                <div class="tile">
                                    <input type="checkbox" id="culture" name="searchGenre" value="ÊñáÂåñÁ≥ª" class="hidden peer">
                                    <label for="culture"class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer 
                                    peer-checked:bg-gradient-to-r peer-checked:from-[#f5ce62] peer-checked:via-[hsl(353,100%,86%)] peer-checked:to-[#ffc850] 
                                    peer-checked:border-[#f5ce62] peer-checked:text-white peer-checked:scale-105 
                                        transition-all duration-300 ease-in-out shadow-md hover:shadow-lg">
                                        <i class="fas fa-tent text-3xl"></i>
                                        <h6 class="mt-2 text-lg font-semibold">ÊñáÂåñÁ≥ª</h6>
                                    </label>
                                </div>
                                
                                <!-- ÈÉ®Ê¥ª -->
                                <div class="tile">
                                    <input type="checkbox" id="club" name="searchGenre" value="ÈÉ®Ê¥ª" class="hidden peer">
                                    <label for="club" class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer 
                                    peer-checked:bg-gradient-to-r peer-checked:from-[#f5ce62] peer-checked:via-[hsl(353,100%,86%)] peer-checked:to-[#ffc850] 
                                    peer-checked:border-[#f5ce62] peer-checked:text-white peer-checked:scale-105 
                                        transition-all duration-300 ease-in-out shadow-md hover:shadow-lg">
                                        <i class="fas fa-users text-3xl"></i>
                                        <h6 class="mt-2 text-lg font-semibold">ÈÉ®Ê¥ª</h6>
                                    </label>
                                </div>
                        
                                <!-- „ÉÄ„É≥„Çπ -->
                                <div class="tile">
                                    <input type="checkbox" id="dance" name="searchGenre" value="„ÉÄ„É≥„Çπ" class="hidden peer">
                                    <label for="dance" class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer 
                                    peer-checked:bg-gradient-to-r peer-checked:from-[#f5ce62] peer-checked:via-[hsl(353,100%,86%)] peer-checked:to-[#ffc850] 
                                    peer-checked:border-[#f5ce62] peer-checked:text-white peer-checked:scale-105 
                                        transition-all duration-300 ease-in-out shadow-md hover:shadow-lg">
                                        <i class="fas fa-users text-3xl"></i>
                                        <h6 class="mt-2 text-lg font-semibold">„ÉÄ„É≥„Çπ</h6>
                                    </label>
                                </div>
                                
                        
                                <!-- „Çµ„ÉÉ„Ç´„Éº -->
                                <div class="tile">
                                    <input type="checkbox" id="soccerFutsal" name="searchGenre" value="„Çµ„ÉÉ„Ç´„Éº„Éª„Éï„ÉÉ„Éà„Çµ„É´" class="hidden peer">
                                    <label for="soccerFutsal" class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer 
                                    peer-checked:bg-gradient-to-r peer-checked:from-[#f5ce62] peer-checked:via-[hsl(353,100%,86%)] peer-checked:to-[#ffc850] 
                                    peer-checked:border-[#f5ce62] peer-checked:text-white peer-checked:scale-105 
                                        transition-all duration-300 ease-in-out shadow-md hover:shadow-lg">
                                        <i class="fas fa-hands-helping text-3xl"></i>
                                        <h6 class="mt-2 text-lg font-semibold">„Çµ„ÉÉ„Ç´„Éº</h6>
                                    </label>
                                </div>
                                
                        
                                <!-- ÂõΩÈöõ‰∫§ÊµÅ -->
                                <div class="tile">
                                    <input type="checkbox" id="global" name="searchGenre" value="ÂõΩÈöõ‰∫§ÊµÅ" class="hidden peer">
                                    <label for="global"class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer 
                                    peer-checked:bg-gradient-to-r peer-checked:from-[#f5ce62] peer-checked:via-[hsl(353,100%,86%)] peer-checked:to-[#ffc850] 
                                    peer-checked:border-[#f5ce62] peer-checked:text-white peer-checked:scale-105 
                                        transition-all duration-300 ease-in-out shadow-md hover:shadow-lg">
                                        <i class="fas fa-hands-helping text-3xl"></i>
                                        <h6 class="mt-2 text-lg font-semibold">ÂõΩÈöõ‰∫§ÊµÅ</h6>
                                    </label>
                                </div>

                                <!-- „Éú„É©„É≥„ÉÜ„Ç£„Ç¢ -->
                                <div class="tile">
                                    <input type="checkbox" id="volunteer" name="searchGenre" value="„Éú„É©„É≥„ÉÜ„Ç£„Ç¢" class="hidden peer">
                                    <label for="volunteer" class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer 
                                    peer-checked:bg-gradient-to-r peer-checked:from-[#f5ce62] peer-checked:via-[hsl(353,100%,86%)] peer-checked:to-[#ffc850] 
                                    peer-checked:border-[#f5ce62] peer-checked:text-white peer-checked:scale-105 
                                        transition-all duration-300 ease-in-out shadow-md hover:shadow-lg">
                                        <i class="fas fa-hands-helping text-3xl"></i>
                                        <h6 class="mt-2 text-lg font-semibold">„Éú„É©„É≥„ÉÜ„Ç£„Ç¢</h6>
                                    </label>
                                </div>
                        
                            </div>
                        </fieldset>  
                    </div>

                    <!-- ‰∏Ä„Å§„Å†„Åë„ÉÅ„Çß„ÉÉ„ÇØ -->
                    <script>
                        document.addEventListener("DOMContentLoaded", function () {
                            const mainGenreCheckboxes = document.querySelectorAll('input[name="searchGenre"]');
                        
                            mainGenreCheckboxes.forEach(checkbox => {
                                checkbox.addEventListener("change", function () {
                                    if (this.checked) {
                                        mainGenreCheckboxes.forEach(otherCheckbox => {
                                            if (otherCheckbox !== this) {
                                                otherCheckbox.checked = false;
                                            }
                                        });
                                    }
                                });
                            });
                        });
                        </script>
            </div>                

                    <!-- „Ç´„ÉÜ„Ç¥„É™ÈÅ∏Êäû -->
            <div class="space-y-6 p-6 bg-white rounded-lg shadow-lg max-w-md mx-auto  border-b border-t border-gray-300">

                <div>
                    <p class="block text-lg text-gray-700 font-bold mt-4 mb-12">ÂÑ™ÂÖàË°®Á§∫„ÇíÈÅ∏Êäû</p>
                    <div class="container2 mb-12">
                        <ul class="ks-cboxtags flex flex-wrap gap-4">
                            <!-- Â§ß‰∫∫Êï∞ -->
                            <li>
                                <input type="checkbox" id="largeFun" name="bigTag"
                                    value="Â§ß‰∫∫Êï∞„Åß„Çè„ÅÑ„Çè„ÅÑ, Âá∫‰ºö„ÅÑË±äÂØå, „Çè„ÅÑ„Çè„ÅÑË≥ë„ÇÑ„Åã„Çµ„Éº„ÇØ„É´, È£≤„Åø‰ºö„ÅßÁõõ„Çä‰∏ä„Åå„Çã, „Éé„É™„Åå„ÅÑ„ÅÑ, „Ç¢„Ç¶„Éà„Éâ„Ç¢Âêë„Åç" 
                                    class="hidden peer">
                                <label for="largeFun" class="flex items-center px-5 py-2 bg-white border-2 border-gray-300 text-gray-500 rounded-full cursor-pointer shadow-md transition 
                                    peer-checked:bg-blue-500 peer-checked:border-blue-400 peer-checked:text-white peer-checked:scale-105 peer-checked:shadow-lg">
                                    Â§ß‰∫∫Êï∞
                                </label>
                            </li>
                    
                            <!-- Â∞ë‰∫∫Êï∞ -->
                            <li>
                                <input type="checkbox" id="smallFriendly" name="bigTag"
                                    value="Â∞è‰∫∫Êï∞„Åß‰ª≤ËâØ„Åó, Â∞ë„Å™„ÇÅ„ÅÆ‰∫∫Êï∞„Åß„Ç¢„ÉÉ„Éà„Éõ„Éº„É†, Á©è„ÇÑ„Åã„Çµ„Éº„ÇØ„É´" 
                                    class="hidden peer">
                                <label for="smallFriendly" class="flex items-center px-5 py-2 bg-white border-2 border-gray-300 text-gray-500 rounded-full cursor-pointer shadow-md transition 
                                    peer-checked:bg-blue-500 peer-checked:border-blue-400 peer-checked:text-white peer-checked:scale-105 peer-checked:shadow-lg">
                                    Â∞ë‰∫∫Êï∞
                                </label>
                            </li>
                        <br>
                            <!-- Ë≥ë„ÇÑ„Åã„Çµ„Éº„ÇØ„É´ -->
                            <li>
                                <input type="checkbox" id="crazy" name="bigTag"
                                    value="Â§ß‰∫∫Êï∞„Åß„Çè„ÅÑ„Çè„ÅÑ, Âá∫‰ºö„ÅÑË±äÂØå, È£≤„Åø‰ºö„ÅßÁõõ„Çä‰∏ä„Åå„Çã" 
                                    class="hidden peer">
                                <label for="crazy" class="flex items-center px-5 py-2 bg-white border-2 border-gray-300 text-gray-500 rounded-full cursor-pointer shadow-md transition 
                                    peer-checked:bg-blue-500 peer-checked:border-blue-400 peer-checked:text-white peer-checked:scale-105 peer-checked:shadow-lg">
                                    Ë≥ë„ÇÑ„Åã„Çµ„Éº„ÇØ„É´
                                </label>
                            </li>
                    
                            <!-- Á©è„ÇÑ„Åã„Çµ„Éº„ÇØ„É´ -->
                            <li>
                                <input type="checkbox" id="easy" name="bigTag"
                                    value="Á©è„ÇÑ„Åã„Çµ„Éº„ÇØ„É´, „Ç§„É≥„Éâ„Ç¢Âêë„Åç" 
                                    class="hidden peer">
                                <label for="easy" class="flex items-center px-5 py-2 bg-white border-2 border-gray-300 text-gray-500 rounded-full cursor-pointer shadow-md transition 
                                    peer-checked:bg-blue-500 peer-checked:border-blue-400 peer-checked:text-white peer-checked:scale-105 peer-checked:shadow-lg">
                                    Á©è„ÇÑ„Åã„Çµ„Éº„ÇØ„É´
                                </label>
                            </li>
                    
                            <!-- Âá∫‰ºö„ÅÑË±äÂØå -->
                            <li>
                                <input type="checkbox" id="manyMeetups" name="bigTag"
                                    value="Â§ß‰∫∫Êï∞„Åß„Çè„ÅÑ„Çè„ÅÑ, ÂêàÂÆø„ÅÇ„Çä, Âá∫‰ºö„ÅÑË±äÂØå, „Ç§„Ç±„É°„É≥„ÅåÂ§ö„ÅÑ, ÁæéÂ•≥„ÅåÂ§ö„ÅÑ, È£≤„Åø‰ºö„ÅßÁõõ„Çä‰∏ä„Åå„Çã" 
                                    class="hidden peer">
                                <label for="manyMeetups" class="flex items-center px-5 py-2 bg-white border-2 border-gray-300 text-gray-500 rounded-full cursor-pointer shadow-md transition 
                                    peer-checked:bg-blue-500 peer-checked:border-blue-400 peer-checked:text-white peer-checked:scale-105 peer-checked:shadow-lg">
                                    Âá∫‰ºö„ÅÑË±äÂØå
                                </label>
                            </li>
                    
                            <!-- ÂèãÈÅî„Å§„Åè„Çã„Å™„Çâ„Åì„Åì -->
                            <li>
                                <input type="checkbox" id="makeFriends" name="bigTag"
                                    value="Â§ß‰∫∫Êï∞„Åß„Çè„ÅÑ„Çè„ÅÑ, ÂêàÂÆø„ÅÇ„Çä, Âá∫‰ºö„ÅÑË±äÂØå, „Ç§„Éô„É≥„ÉàÂ§ö„ÅÑ, „Éé„É™„Åå„ÅÑ„ÅÑ, „Çè„ÅÑ„Çè„ÅÑË≥ë„ÇÑ„Åã„Çµ„Éº„ÇØ„É´, È£≤„Åø‰ºö„ÅßÁõõ„Çä‰∏ä„Åå„Çã, Ê•Ω„Åó„ÇÅ„Çå„Å∞OK" 
                                    class="hidden peer">
                                <label for="makeFriends" class="flex items-center px-5 py-2 bg-white border-2 border-gray-300 text-gray-500 rounded-full cursor-pointer shadow-md transition 
                                    peer-checked:bg-blue-500 peer-checked:border-blue-400 peer-checked:text-white peer-checked:scale-105 peer-checked:shadow-lg">
                                    ÂèãÈÅî„Å§„Åè„Çã„Å™„Çâ„Åì„Åì
                                </label>
                            </li>
                    
                            <!-- ÂõΩÈöõ‰∫§ÊµÅ -->
                            <li>
                                <input type="checkbox" id="meetDifferentCountries" name="bigTag"
                                    value="ÂõΩÈöõ‰∫§ÊµÅ„Åß„Åç„Çã, ÁïôÂ≠¶ÁîüÂ§ö„ÇÅ, Ë®ÄË™û„ÇíÂ≠¶„Åπ„Çã" 
                                    class="hidden peer">
                                <label for="meetDifferentCountries" class="flex items-center px-5 py-2 bg-white border-2 border-gray-300 text-gray-500 rounded-full cursor-pointer shadow-md transition 
                                    peer-checked:bg-blue-500 peer-checked:border-blue-400 peer-checked:text-white peer-checked:scale-105 peer-checked:shadow-lg">
                                    ÂõΩÈöõ‰∫§ÊµÅ„Åß„Åç„Çã
                                </label>
                            </li>
                    
                            <!-- „Ç¨„ÇØ„ÉÅ„Ç´‰Ωú„Çå„Çã -->
                            <li>
                                <input type="checkbox" id="careerBoost" name="bigTag"
                                    value="„Ç¨„ÇØ„ÉÅ„Ç´‰Ωú„Çå„Çã, „Éú„É©„É≥„ÉÜ„Ç£„Ç¢, Â∞±Ê¥ª„ÅßÂΩπÁ´ã„Å§, ÂõΩÈöõ‰∫§ÊµÅ„Åß„Åç„Çã, Ë°®ÂΩ∞ÁµåÈ®ì„ÅÇ„Çä" 
                                    class="hidden peer">
                                <label for="careerBoost" class="flex items-center px-5 py-2 bg-white border-2 border-gray-300 text-gray-500 rounded-full cursor-pointer shadow-md transition 
                                    peer-checked:bg-blue-500 peer-checked:border-blue-400 peer-checked:text-white peer-checked:scale-105 peer-checked:shadow-lg">
                                    „Ç¨„ÇØ„ÉÅ„Ç´‰Ωú„Çå„Çã
                                </label>
                            </li>
                        </ul>
                    </div>
                    

                        
                </div>
                <!-- Ê§úÁ¥¢„Éú„Çø„É≥ -->
                <div class="text-center my-6">
                    <button 
                        id="searchButton" 
                        class="btn-hover color-1 w-full px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 shadow-md transition duration-200"
                    >
                        Ê§úÁ¥¢
                    </button>
                </div>
        </div>
    </div>
</body>
</html>
 
<style>
                
        .buttons {
            margin: 10%;
            text-align: center;
        }

        .btn-hover {
            width: 200px;
            font-size: 16px;
            font-weight: 600;
            color: #fff;
            cursor: pointer;
            margin: 20px;
            height: 55px;
            text-align:center;
            border: none;
            background-size: 300% 100%;

            border-radius: 50px;
            -o-transition: all .4s ease-in-out;
            -webkit-transition: all .4s ease-in-out;
            transition: all .4s ease-in-out;
        }

        .btn-hover:hover {
            background-position: 100% 0;
            -o-transition: all .4s ease-in-out;
            -webkit-transition: all .4s ease-in-out;
            transition: all .4s ease-in-out;
        }

        .btn-hover:focus {
            outline: none;
        }

        .btn-hover.color-2 {
            background-image: linear-gradient(to right, #25aae1, #66ffe8, #40b8b4, #2bb673);
            box-shadow: 0 4px 15px 0 rgba(49, 196, 190, 0.75);
        }


        .btn-hover.color-1 {
            background-image: linear-gradient(to right, #f5ce62, hsl(17, 100%, 82%), #eba789);
            box-shadow: 0 4px 15px 0 rgba(239, 194, 81, 0.75);
        }






        /* ÂøÖË¶Å„Å™„Ç´„Çπ„Çø„É†„Çπ„Çø„Ç§„É´ */
        .container2 {
            max-width: 640px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 13px;
        }

        /* „É™„Çπ„Éà„ÅÆÂü∫Êú¨„Çπ„Çø„Ç§„É´ */
        ul.ks-cboxtags {
            list-style: none;
        }
        ul.ks-cboxtags li {
            display: inline;
        }

        /* „ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„É©„Éô„É´„ÅÆÂü∫Êú¨„Çπ„Çø„Ç§„É´ */
        ul.ks-cboxtags li label {
            display: inline-block;
            background-color: rgba(255, 255, 255, .9);
            border: 2px solid rgba(139, 139, 139, .3);
            color: #adadad;
            border-radius: 25px;
            white-space: nowrap;
            padding: 8px 12px;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
            transition: all .2s;
        }

        /* „ÉÅ„Çß„ÉÉ„ÇØÊôÇ„ÅÆ„Çπ„Çø„Ç§„É´ */
        ul.ks-cboxtags li input[type="checkbox"]:checked + label {
            border-color: #6dfec7;
            background-color: #58ebb1;
            color: #fff;
            transition: all .2s;
        }

        /* „Ç¢„Ç§„Ç≥„É≥„ÅÆÂ§âÂåñ */
        ul.ks-cboxtags li label::before {
            display: inline-block;
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            font-size: 12px;
            content: "\f067";
            transition: transform .3s ease-in-out;
        }

        ul.ks-cboxtags li input[type="checkbox"]:checked + label::before {
            content: "\f00c";
            transform: rotate(-360deg);
            transition: transform .3s ease-in-out;
        }



</style>

<script>
    document.getElementById("filter-form")?.addEventListener("submit", function (event) {
      event.preventDefault();
    
      const searchGenres = Array.from(document.querySelectorAll('input[name="searchGenre"]:checked'))
        .map(el => el.value);
      const params = new URLSearchParams();
      searchGenres.forEach(genre => params.append('searchGenre', genre));
    
      console.log('Search Parameters:', params.toString());
    
      window.location.href = `/search?${params.toString()}`;
    });
   

    function toggleModal(element) {
        const targetId = element.getAttribute('data-target');
        const modal = document.getElementById(targetId);
        const body = document.body;

        modal.classList.toggle('translate-y-full');

        if (!modal.classList.contains('translate-y-full')) {
            body.classList.add('overflow-hidden');
        } else {
            body.classList.remove('overflow-hidden');
        }
    }

    document.getElementById("searchname")?.addEventListener("submit", function (event) {
      event.preventDefault();
    
      const name = document.getElementById("inputname")?.value.trim();
      const params = new URLSearchParams();
    
      if (name) params.append('name', name);
    
      console.log('Search Parameters:', params.toString());
    
      window.location.href = `/search?${params.toString()}`;
    });
    
    document.getElementById("filter-form")?.addEventListener("submit", function (event) {
      event.preventDefault();
    
      const searchGenres = Array.from(document.querySelectorAll('input[name="searchGenre"]:checked'))
        .map(el => el.value);
       // üîπ `bigTag` „ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„ÅÆÂÄ§„ÇíÂèñÂæóÔºà`.split(',')` „ÅØ‰∏çË¶ÅÔºâ
    const tags = Array.from(document.querySelectorAll('input[name="bigTag"]:checked'))
    .flatMap(el => el.value.split(',').map(tag => tag.trim())); // Á©∫ÁôΩ„ÇíÈô§Âéª
       
    
      const params = new URLSearchParams();
      searchGenres.forEach(genre => params.append('searchGenre', genre));
      tags.forEach(tag => params.append('bigTag', tag));

      console.log("ÂÑ™ÂÖàË°®Á§∫ÈÅ∏Êäû„Åï„Çå„Åü„Çø„Ç∞:", tags);
      console.log('Ê§úÁ¥¢„Éë„É©„É°„Éº„Çø:', params.toString());
    
      window.location.href = `/search?${params.toString()}`;
    });

</script>
    