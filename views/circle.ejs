<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/output.css" rel="stylesheet">

    <link rel="stylesheet" href="/fontawesome/css/all.min.css">


    <link rel="stylesheet" href="/swiper/swiper-bundle.min.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q114JWPDXL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-Q114JWPDXL');
    </script>
    <script defer src="/swiper/swiper-bundle.min.js"></script>



    <title>
        <%= circle.circleName %> - <%= circle.mainGenre %> „Çµ„Éº„ÇØ„É´ÊÉÖÂ†±|„Çµ„Éº„ÇØ„É´„Éë„Éº„ÇØ
    </title>
    <div class="w-full max-w-[500px] bg-white shadow-2xl min-h-screen">

</head>
<!-- „Éò„ÉÉ„ÉÄ„Éº -->
<header
    class="bg-white text-black py-2 px-4 flex justify-between items-center  sticky top-0 z-50 shadow-[0px_10px_30px_rgba(0,0,0,0.25)]">
    <!-- Êàª„Çã„Éú„Çø„É≥ -->
    <div class="z-50">
        <button onclick="history.back()" class=" text-gray-800 font-bold py-2 px-1 flex items-center">
            <i class="fa-solid fa-arrow-left mr-2"></i> Êàª„Çã
        </button>
    </div>

    <!-- „ÅäÊ∞ó„Å´ÂÖ•„Çä„Éú„Çø„É≥„Éò„ÉÉ„ÉÄ„Éº -->
    <div class="flex gap-3 mr-2">
        <label for="favoriteCheckbox" id="favoriteLabel2">
            <input type="checkbox" id="favoriteCheckbox" class="hidden">
            <i id="favoriteIcon" class="fa-regular fa-star text-gray-500 text-2xl bg-white"></i>
        </label>
        <div class="flex items-center gap-3">
            <!-- „Éõ„Éº„É†„Ç¢„Ç§„Ç≥„É≥ -->
            <a href="/" class="text-black hover:text-gray-600">
                <i class="fa-solid fa-house text-2xl"></i>
            </a>
        </div>
    </div>
</header>

<body class="font-sans bg-gray-100 flex justify-center">



    <div class="mx-auto bg-white overflow-hidden">
        <!-- ÂÜôÁúü„Çª„ÇØ„Ç∑„Éß„É≥ -->
        <div class="p-6 pb-12 text-center"
            style="background-image: linear-gradient(135deg, hsl(36, 82%, 94%) 10%, #bbf8f1 100%);">
            <% if (circle.topPhoto || circle.photo) { %>
                <div class="w-full mx-auto relative" style="aspect-ratio: 1 / 1;"> <!-- „Çπ„Éû„ÉõÂπÖ„ÅÆ80%„ÅßÊ≠£ÊñπÂΩ¢ -->

                    <img id="mainPhoto" src="/uploads/<%= circle.topPhoto || circle.photo.split(',')[0].trim() %>"
                        alt="„É°„Ç§„É≥ÂÜôÁúü"
                        class="absolute inset-0 w-full h-full outline outline-1 outline-gray-300 border-[5px] border-white shadow-2xl object-cover transition-transform duration-300 rounded-3xl">
                </div>
                <div class="flex overflow-x-auto space-x-4 py-2 mt-2 scrollbar-hide justify-center md:justify-start">
                    <% if (circle.topPhoto) { %>
                        <img src="/uploads/<%= circle.topPhoto %>" alt="„Éà„ÉÉ„ÉóÂÜôÁúü"
                            class="w-16 h-16 object-cover cursor-pointer outline outline-1 outline-gray-300 border-2 border-white shadow-lg transition-transform duration-300 hover:scale-110 thumbnail-photo rounded-xl flex-shrink-0">
                        <% } %>
                            <% if (circle.subPhotos) { %>
                                <% circle.subPhotos.split(',').forEach(subPhotos=> { %>
                                    <img src="/uploads/<%= subPhotos.trim() %>" alt="„Çµ„ÉñÂÜôÁúü"
                                        class="w-16 h-16 object-cover rounded-xl outline outline-1 outline-gray-300 border-2 border-white shadow-lg cursor-pointer transition-transform duration-300 hover:scale-110 thumbnail-photo flex-shrink-0">
                                    <% }) %>
                                        <% } %>
                </div>


                <% } %>
        </div>

        <style>
            /* „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÇíÈùûË°®Á§∫„Å´„Åô„Çã */
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }

            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
        </style>



        <!-- „Ç≥„É≥„ÉÜ„É≥„ÉÑ„Çª„ÇØ„Ç∑„Éß„É≥ (Â∞ë„Åó‰∏ä„Å´„Åö„Çâ„Åô) -->

        <div
            class="text-center rounded-2xl border-t border-2 norder-gray-200 bg-white shadow-[0px_-10px_30px_rgba(0,0,0,0.25)] content-section">
            <div class="p-5 border-gray-300 border-b">
                <h1 class="text-2xl font-bold text-gray-800 flex justify-between items-start pt-2">
                    <%= circle.circleName %>

                        <% if (circle.instagram) { %>
                            <a href="<%= circle.instagram %>" target="_blank" class="flex flex-col items-center gap-1">
                                <i
                                    class="fa-brands fa-instagram ml-2 text-3xl text-pink-400 transition-transform duration-300 hover:scale-110"></i>
                                <p class="text-gray-600 ml-2 text-[10px] leading-none">Instagram</p>
                            </a>
                            <% } %>
                </h1>
            </div>

            <style>
                .content-section {
                    position: relative;
                    top: -40px;
                    /* üîπ „Åì„Åì„Åß‰∏ä„Å´„Åö„Çâ„ÅôÈáè„ÇíË™øÊï¥ */
                    z-index: 10;
                    /* üîπ ËÉåÊôØ„ÅÆ‰∏ä„Å´Ë°®Á§∫ */
                }
            </style>

            <!-- „ÅäÊ∞ó„Å´ÂÖ•„Çä -->
            <label for="favoriteCheckbox" id="favoriteLabel"
                class="z-10 fixed bottom-[-100px] left-1/2 transform -translate-x-1/2 w-3/5 max-w-[400px]  opacity-90 text-white py-2 px-6 rounded-full text-center shadow-lg transition-all duration-300 flex items-center justify-center space-x-2 cursor-pointer">
                <input type="checkbox" id="favoriteCheckbox" class="hidden">
                <i id="favoriteIcon" class="fa-regular fa-star text-xl"></i>
                <span class="text-white text-base">„ÅäÊ∞ó„Å´ÂÖ•„Çä</span>
            </label>

            <script>
                document.addEventListener("DOMContentLoaded", function () {
                    const favoriteCheckbox = document.getElementById("favoriteCheckbox");
                    const favoriteIcon = document.getElementById("favoriteIcon");
                    const favoriteLabel = document.getElementById("favoriteLabel");

                    const circleId = "<%= circle.id %>";
                    const showHeight = 500; // üîπ „Éú„Çø„É≥„ÅåÂá∫„Çã„Çπ„ÇØ„É≠„Éº„É´‰ΩçÁΩÆ

                    // ‚úÖ „ÅäÊ∞ó„Å´ÂÖ•„ÇäÁä∂ÊÖã„Çí localStorage „Åã„ÇâÂèñÂæó
                    function updateFavoriteButton() {
                        let favorites = JSON.parse(localStorage.getItem("favorites")) || [];
                        const isFavorite = favorites.includes(circleId);

                        // „ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„ÅÆÁä∂ÊÖã„ÇíÊõ¥Êñ∞
                        favoriteCheckbox.checked = isFavorite;

                        // „Ç¢„Ç§„Ç≥„É≥„ÅÆË¶ã„ÅüÁõÆ„ÇíÂ§âÊõ¥
                        favoriteIcon.classList.toggle("fa-solid", isFavorite);
                        favoriteIcon.classList.toggle("fa-regular", !isFavorite);
                        favoriteIcon.classList.toggle("text-yellow-400", isFavorite);

                        // üîπ „ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„ÇπÔºà„É©„Éô„É´ÂÖ®‰ΩìÔºâ„ÅÆËÉåÊôØËâ≤„ÇíÂ§âÊõ¥
                        if (isFavorite) {
                            favoriteLabel.style.background = "linear-gradient(to right, #f5ce62, #fcbf3b,#ffff4a)"; // ‚úÖ „Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ËÉåÊôØ
                        } else {
                            favoriteLabel.style.background = ""; // üîπ „Éá„Éï„Ç©„É´„ÉàÔºàCSS„ÅÆ„ÇØ„É©„Çπ„Å´Êàª„ÅôÔºâ
                            favoriteLabel.classList.add("bg-gray-300");
                        }
                    }

                    // ‚úÖ „Éú„Çø„É≥„ÇØ„É™„ÉÉ„ÇØÊôÇ„ÅÆÂá¶ÁêÜ
                    favoriteCheckbox.addEventListener("change", function () {
                        let favorites = JSON.parse(localStorage.getItem("favorites")) || [];

                        if (favoriteCheckbox.checked) {
                            favorites.push(circleId);
                        } else {
                            favorites = favorites.filter(id => id !== circleId);
                        }

                        localStorage.setItem("favorites", JSON.stringify(favorites));
                        updateFavoriteButton();
                    });

                    // ‚úÖ ÊåáÂÆö„ÅÆ„Çπ„ÇØ„É≠„Éº„É´‰ΩçÁΩÆ„Åß„Éú„Çø„É≥„ÇíÂá∫„ÅôÂá¶ÁêÜ
                    window.addEventListener("scroll", function () {
                        if (window.scrollY > showHeight) {
                            favoriteLabel.style.bottom = "20px"; // üîπ ÊåáÂÆö‰ΩçÁΩÆ„ÇíË∂Ö„Åà„Åü„Çâ„Éú„Çø„É≥„ÇíË°®Á§∫
                        } else {
                            favoriteLabel.style.bottom = "-100px"; // üîπ ÊåáÂÆö‰ΩçÁΩÆ‰ª•‰∏ã„Å™„ÇâÈö†„Åô
                        }
                    });

                    // ‚úÖ ÂàùÊúüÁä∂ÊÖã„ÇíÈÅ©Áî®
                    updateFavoriteButton();
                });
            </script>




            <!-- „Ç≥„É≥„ÉÜ„É≥„ÉÑbody -->

            <!-- ‰∫∫Êï∞„ÉªÁî∑Â•≥ÊØî„ÉªÊ¥ªÂãïÈ†ªÂ∫¶„ÉªÈõ∞Âõ≤Ê∞ó -->
            <div class="p-5 my-6 space-y-5">
                <!-- ‰∫∫Êï∞ -->
                <div>
                    <div class="flex justify-between text-sm text-gray-500 mb-2">
                        <span>‰∫∫Êï∞</span>
                        <span class="font-bold text-gray-700 absolute left-1/2 transform -translate-x-1/2">
                            <% if (circle.tag && circle.tag.includes("null1")) { %>
                                Êú™ÁôªÈå≤
                                <% } else if (circle.parsedSlider1>= 300) { %>
                                    300‰∫∫‰ª•‰∏ä
                                    <% } else { %>
                                        <%= circle.parsedSlider1 || 0 %>‰∫∫
                                            <% } %>
                        </span>
                        <span>300‰∫∫‰ª•‰∏ä</span>
                    </div>
                    <div class="relative h-4 rounded-full overflow-hidden bg-gray-300 shadow-lg">
                        <div class="absolute top-0 bottom-0 left-0 rounded-full bg-gradient-to-r from-[#f5ce62] via-[hsl(353,100%,86%)] to-[#eba789]"
                            style="width:<%= (circle.tag && circle.tag.includes('null1')) ? '0%' : ((circle.parsedSlider1 || 0) / 3) + '%' %>;">
                        </div>
                    </div>
                </div>


                <!-- Áî∑Â•≥ÊØî -->
                <div>
                    <div class="flex justify-between text-sm text-gray-500 mb-2">
                        <span>Áî∑</span>
                        <span class="font-bold text-gray-700 absolute left-1/2 transform -translate-x-1/2">
                            <% if (circle.tag && circle.tag.includes("null2")) { %>
                                Êú™ÁôªÈå≤
                                <% } else { %>
                                    <% const femaleRatio=10 - (circle.parsedSlider2 || 0); const
                                        maleRatio=(circle.parsedSlider2 || 0); %>
                                        <%= maleRatio %>:<%= femaleRatio %>
                                                <% } %>
                        </span>
                        <span>Â•≥</span>
                    </div>

                    <div class="relative h-4 rounded-full overflow-hidden bg-gray-300  shadow-lg">
                        <div class="absolute top-0 bottom-0 left-0 rounded-full bg-gradient-to-r from-[#f5ce62] via-[hsl(353,100%,86%)] to-[#eba789]"
                            style="width:<%= (circle.tag && circle.tag.includes('null2')) ? '0%' : ((circle.parsedSlider2 || 0) * 10) + '%' %>;">
                        </div>
                    </div>
                </div>

                <!-- Ê¥ªÂãïÈ†ªÂ∫¶ -->
                <div>
                    <div class="flex justify-between text-sm text-gray-500 mb-2">
                        <span>Ê¥ªÂãïÈ†ªÂ∫¶</span>
                        <span class="font-bold text-gray-700 absolute left-1/2 transform -translate-x-1/2">
                            <% if (circle.tag && circle.tag.includes("null3")) { %>
                                Êú™ÁôªÈå≤
                                <% } else { %>
                                    <% const activityFrequency=['‰∏çÂÆöÊúü', 'Âπ¥‰∏ÄÂõû' , 'ÂçäÂπ¥„Å´‰∏ÄÂõû' , 'Ôºì„ÅãÊúà„Å´‰∏ÄÂõû' , 'Ôºí„ÅãÊúà„Å´‰∏ÄÂõû' , 'Êúà‰∏Ä'
                                        , 'ÊúàÔºí' , 'ÈÄ±‰∏Ä' , '„Åª„ÅºÊØéÊó•' ]; const activityIndex=Math.round((circle.parsedSlider3
                                        || 0) / 12.5); %>
                                        <%= activityFrequency[activityIndex] %>
                                            <% } %>
                        </span>
                        <span>Â§ö„ÅÑ</span>
                    </div>

                    <div class="relative h-4 rounded-full overflow-hidden bg-gray-300 shadow-lg">
                        <div class="absolute top-0 bottom-0 left-0 rounded-full bg-gradient-to-r from-[#f5ce62] via-[hsl(353,100%,86%)] to-[#eba789]"
                            style="width:<%= (circle.tag && circle.tag.includes('null3')) ? '0%' : ((circle.parsedSlider3 || 0)) + '%' %>;">
                        </div>
                    </div>
                </div>

                <!-- Èõ∞Âõ≤Ê∞ó -->
                <div>
                    <div class="flex justify-between text-sm text-gray-500 mb-2">
                        <span>Èõ∞Âõ≤Ê∞ó</span>
                        <span class="font-bold text-gray-700 absolute left-1/2 transform -translate-x-1/2">
                            <% if (circle.tag && circle.tag.includes("null4")) { %>
                                Êú™ÁôªÈå≤
                                <% } else { %>
                                    <%= circle.parsedSlider4 || 0 %>%
                                        <% } %>
                        </span>
                        <span>ÂÖ®Âäõ„Ç®„É≥„Ç∏„Éß„Ç§</span>
                    </div>

                    <div class="relative h-4 rounded-full overflow-hidden bg-gray-300 shadow-lg">
                        <div class="absolute top-0 bottom-0 left-0 rounded-full bg-gradient-to-r from-[#f5ce62] via-[hsl(353,100%,86%)] to-[#eba789]"
                            style="width:<%= (circle.tag && circle.tag.includes('null4')) ? '0%' : ((circle.parsedSlider4 || 0)) + '%' %>;">
                        </div>
                    </div>
                </div>
            </div>
            <div class="p-5 border-t border-gray-300">
                <!-- Á¥π‰ªãÊñá -->
                <div class=" mt-5 w-full  py-2">
                    <h2 class="text-left mb-2 font-bold text-lg">Á¥π‰ªãÊñá</h2>
                    <p class="text-gray-800 my-6"><%- nl2br(circle.description) %></p>

                </div>
            </div>
            <!-- „Çø„Ç∞ -->
            <% if (circle.tag) { %>
                <div class="p-3  border-t border-gray-300">
                    <div class="flex flex-wrap gap-4 p-4">
                        <% circle.tag.split(',').forEach(tag=> { %>
                            <% if (!["null1", "null2" , "null3" , "null4" ].includes(tag.trim())) { %>
                                <span class="border border-[#f5ce62] bg-gradient-to-r from-[#f5ce62] via-[hsl(353,100%,86%)] to-[#ffc850] 
                                        text-white px-3 py-1 opacity-90 rounded-full text-sm 
                                        shadow-lg transition duration-300 cursor-pointer">
                                    <%= tag.trim() %>
                                </span>
                                <% } %>
                                    <% }) %>
                    </div>
                </div>
                <% } %>



                    <!-- „Ç´„É¨„É≥„ÉÄ„ÉºÁîªÂÉè-->
                    <% if (circle.calendarPhotos && circle.calendarPhotos.trim() !=="" ) { %>
                        <div class="w-full p-5 border-t border-gray-300 bord">
                            <h1 class="my-7 text-lg">Êñ∞Ê≠ì„Ç´„É¨„É≥„ÉÄ„Éº</h1>
                            <div class="w-full mx-auto relative overflow-hidden" style="aspect-ratio: 1 / 1;">
                                <div class="swiper calendar-swiper">
                                    <div class="swiper-wrapper">
                                        <% circle.calendarPhotos.split(',').forEach(photo=> { %>
                                            <div class="swiper-slide">
                                                <img src="/uploads/<%= photo.trim() %>" alt="„Ç´„É¨„É≥„ÉÄ„ÉºÁîªÂÉè"
                                                    class="w-full h-full object-cover">
                                            </div>
                                            <% }) %>
                                    </div>
                                </div>
                                <!-- „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥Ôºà„Éâ„ÉÉ„ÉàÔºâ -->
                                <div class="swiper-pagination"></div>
                            </div>
                        </div>
                        <% } %>



                            <script>
                                document.addEventListener("DOMContentLoaded", function () {
                                    new Swiper(".calendar-swiper", {
                                        loop: true, // ÁÑ°Èôê„É´„Éº„Éó
                                        pagination: {
                                            el: ".swiper-pagination",
                                            clickable: true
                                        },

                                    });
                                });
                            </script>



                            <!-- „Çµ„Éº„ÇØ„É´ÊÉÖÂ†± -->
                            <div class="mb-10 w-full border-t border-b border-gray-300 p-5">
                                <h1 class="text-left text-lg mt-5">Ë©≥Á¥∞ÊÉÖÂ†±</h1>

                                <div class="my-6 text-left w-full flex flex-col gap-2">
                                    <p class="flex my-2">
                                        <span class="font-bold w-1/4">„Ç∏„É£„É≥„É´</span>
                                        <span class="w-1/2 pl-10">
                                            <%= circle.mainGenre %>
                                        </span>
                                    </p>
                                    <p class="flex my-2"> <span class="font-bold w-1/4">ÂÖ•‰ºöË≤ª</span>
                                        <span class="w-1/2 pl-10">
                                            <%= (circle.admissionFee !==null && circle.admissionFee !==undefined) ?
                                                circle.admissionFee + 'ÂÜÜ' : 'Êú™ÁôªÈå≤' %>
                                        </span>
                                    </p>
                                    <p class="flex my-2"> <span class="font-bold w-1/4">Âπ¥‰ºöË≤ª</span>
                                        <span class="w-1/2 pl-10">
                                            <%= (circle.annualFee !==null && circle.annualFee !==undefined) ?
                                                circle.annualFee + 'ÂÜÜ' : 'Êú™ÁôªÈå≤' %>
                                        </span>
                                    </p>
                                    <p class="flex my-2"> <span class="font-bold w-1/4">Ê¥ªÂãïÂú∞</span>
                                        <span class="w-1/2 pl-10">
                                            <%= circle.location %>
                                        </span>
                                    </p>
                                </div>
                                <% if (circle.instagram) { %>
                                    <a href="<%= circle.instagram %>" target="_blank"
                                        class="flex flex-col mt-8 mb-4 items-center">
                                        <i
                                            class="fa-brands fa-instagram text-5xl text-pink-400 transition-transform duration-300 hover:scale-110"></i>
                                        <p class="text-gray-600 text-xs mt-1">Instagram</p>
                                    </a>
                                    <% } %>

                            </div>
                            <div class="px-8 pt-3 pb-6">
                                <button onclick="history.back()"
                                    class="w-full block my-5 text-white text-center py-2 rounded-lg hover:bg-orange-800 transition duration-300"
                                    style=" background: linear-gradient(to right, #fcd569, hsl(50, 100%, 69%));
">
                                    Êàª„Çã
                                </button>
                                <a href="#"
                                    class="block mt-5 mb-14 bg-blue-400 text-white text-center py-2 px-6 rounded-lg hover:bg-blue-500 transition duration-300"
                                    style=" background: linear-gradient(to right, #25aae1, #40b8b4);"
                                    onclick="openPasswordModal(<%= circle.id %>)">
                                    ÁÆ°ÁêÜËÄÖ„Éö„Éº„Ç∏„Å∏
                                </a>

                            </div>

        </div>

        <!-- „Éë„Çπ„ÉØ„Éº„ÉâÂÖ•Âäõ„É¢„Éº„ÉÄ„É´ -->
        <div id="passwordModal"
            class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden z-50">
            <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm w-full">
                <h2 class="text-lg font-bold text-gray-700 mb-4">„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ</h2>
                <h3 class="mb-4 text-sm opacity-70">
                    ÁÆ°ÁêÜËÄÖÂ∞ÇÁî®„ÅÆ„Éö„Éº„Ç∏„Åß„Åô„ÄÇ<br>„Çµ„Éº„ÇØ„É´ÊäïÁ®øÊôÇ„Å´Ë®≠ÂÆö„Åó„Åü„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÔºàCookie„ÇíÊúâÂäπ„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºâ<br>‚Äª„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂøò„Çå„ÅüÂ†¥Âêà„ÅØ„ÅäÂïè„ÅÑÂêà„Çè„Åõ„Éö„Éº„Ç∏„Å∏</h3>
                <input type="password" id="passwordInput" placeholder="„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ"
                    class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-400">
                <div class="flex justify-end gap-2 my-6">
                    <button onclick="closePasswordModal()"
                        class="px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400">
                        „Ç≠„É£„É≥„Çª„É´
                    </button>
                    <button onclick="submitPassword()"
                        class="px-4 py-2 text-white rounded-lg bg-blue-500 hover:bg-blue-600">
                        Á¢∫Ë™ç
                    </button>
                </div>
            </div>
        </div>
    </div>
    </div>
</body>

</html>

<script>

    function redirectToHome() {
        window.location.href = "/";
    }



    let editingCircleId = null;

    // „Éë„Çπ„ÉØ„Éº„Éâ„É¢„Éº„ÉÄ„É´„ÇíÈñã„Åè
    function openPasswordModal(circleId) {
        editingCircleId = circleId;
        document.getElementById("passwordModal").classList.remove("hidden");
    }

    // „Éë„Çπ„ÉØ„Éº„Éâ„É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Çã
    function closePasswordModal() {
        document.getElementById("passwordModal").classList.add("hidden");
        document.getElementById("passwordInput").value = "";
    }

    // „Éë„Çπ„ÉØ„Éº„Éâ„ÇíÈÄÅ‰ø°
    function submitPassword() {
        const password = document.getElementById("passwordInput").value;

        if (!password) {
            alert("„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ");
            return;
        }

        fetch(`/circle/admin/${editingCircleId}/auth`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ password })
        })
            .then(response => response.json())  // ‚úÖ JSON „É¨„Çπ„Éù„É≥„Çπ„ÇíÁ¢∫ÂÆü„Å´Âá¶ÁêÜ
            .then(data => {
                if (data.success) {
                    window.location.href = data.redirect;  // ‚úÖ „É™„ÉÄ„Ç§„É¨„ÇØ„Éà
                } else {
                    alert(data.error || "Ë™çË®º„Å´Â§±Êïó„Åó„Åæ„Åó„Åü");
                }
            })
            .catch(error => {
                console.error("„Ç®„É©„Éº:", error);
                alert("Ë™çË®º„Å´Â§±Êïó„Åó„Åæ„Åó„Åü");
            });

        closePasswordModal();
    }



    // „É°„Ç§„É≥ÂÜôÁúü„Å®„Çµ„ÉñÂÜôÁúü„ÅÆÂÖ•„ÇåÊõø„ÅàÊ©üËÉΩ
    document.addEventListener('DOMContentLoaded', () => {
        const mainPhoto = document.getElementById('mainPhoto');
        const thumbnailPhotos = document.querySelectorAll('.thumbnail-photo');

        thumbnailPhotos.forEach(thumbnailPhoto => {
            thumbnailPhoto.addEventListener('click', () => {
                mainPhoto.src = thumbnailPhoto.src;
            });
        });
    });
</script>